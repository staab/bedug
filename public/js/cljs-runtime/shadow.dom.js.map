{"version":3,"file":"shadow.dom.js","sources":["shadow/dom.cljs"],"mappings":";;;;;;;;;;AAYA,AAAKA,yCACH,mCAAA,oCAAA,rEAAM,QAAAC,yBACJ,AAACC;AAEL,AAAA;AAAA;;;sBAAA,tBAAaM;;AAAb,qBAAA,rBACGC,kDAASC;AADZ,AAAA,GAAA,EAAA,EAAA,UAAA,YAAA,EAAA,CAAA,6CAAA,rEACYA,wBAAAA;AADZ,OACYA,0CAAAA;;AADZ,IAAAP,kBAAA,EAAA,UAAA,OAAA,hBACYO,qBAAAA;IADZN,kBAAA,CAAAC,mBAAA,AAAAC,YAAAH;AAAA,AAAA,GAAA,EAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TACYM,mCAAAA;;AADZ,IAAAN,sBAAA,CAAAC,mBAAA;AAAA,AAAA,GAAA,EAAA,CAAAD,uBAAA;AAAA,QAAAA,oDAAAA,2DAAAA,TACYM,uCAAAA;;AADZ,MAAA,AAAAH,2BAAA,mBACYG;;;;;;AADZ,AAGA,AAAA;AAAA;;;wBAAA,xBAAaE;;AAAb,qBAAA,rBACGC,kDAASH;AADZ,AAAA,GAAA,EAAA,EAAA,UAAA,YAAA,EAAA,CAAA,+CAAA,vEACYA,wBAAAA;AADZ,OACYA,4CAAAA;;AADZ,IAAAP,kBAAA,EAAA,UAAA,OAAA,hBACYO,qBAAAA;IADZN,kBAAA,CAAAO,mBAAA,AAAAL,YAAAH;AAAA,AAAA,GAAA,EAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TACYM,mCAAAA;;AADZ,IAAAN,sBAAA,CAAAO,mBAAA;AAAA,AAAA,GAAA,EAAA,CAAAP,uBAAA;AAAA,QAAAA,oDAAAA,2DAAAA,TACYM,uCAAAA;;AADZ,MAAA,AAAAH,2BAAA,qBACYG;;;;;;AADZ,AAGA,kCAAA,lCAAOI,4EAAsBC,KAAKC;AAAlC,AACE,GAAM,CAAGA,MAAI,AAAUD;AAAvB,AACE,YAAAE,kBAAA,KAAA;AAAA,AAAU,OAACC,eAAK,CAAMH,KAAKC,MACf,iBAAAG,WAAsBJ;IAAtBK,WAA2B,OAAA,NAAKJ;AAAhC,AAAA,sIAAAG,SAAAC,sDAAAD,SAAAC,tMAACN,gEAAAA,mFAAAA;;GADb,KAAA;;AADF;;;AAKF,AAAA;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,kEAAA,lEAASY,6EAEEhB;;AAFX,AAAA,gBAAA,ZAEWA;AAFX,AAEiBK;;;AAFjB,AAAA,AAAA,kEAAA,lEAASW,6EAKAhB,MAAKkB;;AALd,AAAA,gBAAA,ZAKSlB;AALT,AAKiB,QAAMK,YAAKa;;;AAL5B,AAAA,AAAA,kEAAA,lEAASF,6EAMAhB,MAAKkB,EAAEC;;AANhB,AAAA,gBAAA,ZAMSnB;AANT,AAM2B,IAAAoB,mBAAI,CAAMf,YAAKa;AAAf,AAAA,oBAAAE;AAAAA;;AAAkBD;;;;AAN7C,AAAA,AAAA,oEAAA,pEAASH,+EASEhB;;AATX,AAAA,gBAAA,ZASWA;AATX,AASiB,OAAUK;;;AAT3B,AAAA,AAAA,kEAAA,lEAASW,6EAYAhB;;AAZT,AAAA,gBAAA,ZAYSA;AAZT,AAYe,mDAAA,5CAACI,gCAAqBC;;;AAZrC,AAAA,AAAA,uDAAAM,vDAASK;;AAAT,AAAA,AAAA,sEAAA,tEAASA,iFAeGhB;;AAfZ,AAAA,gBAAA,ZAeYA;AAfZ,AAekBK;;;AAflB,AAAA,iCAAA,jCAASW;AAAT,AAAA,0FAAA;;;AAAA,AAAA,uCAAA,vCAASA;;AAAT,AAAA,0CAAA,1CAASA;;AAAT,AAAA,+CAAA,WAAAJ,mBAAAC,qBAAAC,lGAASE;AAAT,AAAA,OAAAD,iBAAAF,qBAAA;;;AAAA;;;6BAAA,7BAASI,kEAAYZ;AAArB,AAAA,YAAAW,sBAAqBX;;;AAAZW,AAkBT,yBAAA,zBAAMK,0DAAahB;AAAnB,AACE,YAAAW,sBAAaX;;AAEf,sBAAA,tBAAMiB,oDAAUC;AAAhB,AAGE,GACE,OAAA,NAAMA;AADR;;AAAA,GAEE,EAAA,EAAA,OAAA,QAAA,EAAA,EAAA,WAAA,CAAAZ,gCAAA,4BAAA,KAAA,OAAA,tGAAsBY,8DAAAA;AAAI,OAAqBA;;AAFjD,GAGE,OAASA;AAAI,OAAiBC,wBAAYD;;AAH5C,GAIE,OAASA;AAAI,OAAiBC,wBAAY,6CAAKD;;AAJjD,AAKQA;;;;;;;AAEV,AAAA,uBAAA,+BAAAE,tDAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,mDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,mDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,qDAAA,rDAAMD,gEACFE;AADJ,AACS,OAAgBL,uBAAYK;;;AADrC,AAAA,qDAAA,rDAAMF,gEAEFE,IAAIC;AAFR,AAEc,OAAgB,AAACR,oBAASQ,oBAAMD;;;AAF9C,AAAA,+CAAA,/CAAMF;;AAAN,AAIA,AAAA,mBAAA,2BAAAF,9CAAMO;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAJ,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMI,4DACFH;AADJ,AACS,YAAAb,sBAAa,AAAmBQ,0BAAYK;;;AADrD,AAAA,iDAAA,jDAAMG,4DAEFH,IAAIC;AAFR,AAEc,YAAAd,sBAAa,AAAmB,AAACM,oBAASQ,uBAAMD;;;AAF9D,AAAA,2CAAA,3CAAMG;;AAAN,AAIA,AAAA,mBAAA,2BAAAP,9CAAMS;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMM,4DACFC,GAAGZ;AADP,AACW,OAAiB,AAACD,oBAASC,mBAAIY;;;AAD1C,AAAA,iDAAA,jDAAMD,4DAEFC;AAFJ,AAEQ,OAAiBX,wBAAYW;;;AAFrC,AAAA,2CAAA,3CAAMD;;AAAN,AAIA,AAAKE,mBAAMd;AAEX,AAAA,qBAAA,6BAAAG,lDAAMa;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,iDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,iDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,iDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAV,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,mDAAA,nDAAMU,8DACFC;AADJ,AAEG,oBAAI,AAAmBA;AACrB,AACE,AAAkBA;;AAClB,AAAiBA;;AACnB,AACE,iBAAA,jBAAM,AAAgBA;;AACtB,gBAAA,hBAAM,AAAeA;;;AACzBA;;;AATH,AAAA,mDAAA,nDAAMD,8DAUFC,EAAEhB;AAVN,AAWG,AAACiB,iDAAQD;;AACThB;;;AAZH,AAAA,mDAAA,nDAAMe,8DAcFC,EAAEhB,GAAGkB,MAAMC;AAdf,AAeG,AAACF,iDAAQD;;AACThB;;;AAhBH,AAAA,6CAAA,7CAAMe;;AAAN,AAkBA,AAAA;;;6BAAA,qCAAAb,lEAAMmB;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,yDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAhB,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,2DAAA,3DAAMgB,sEAEFrB;AAFJ,AAGG,IAAAsB,WAAcrB;IAAdsB,WAA0B,AAACxB,oBAASC;AAApC,AAAA,yBAAAsB,SAAAC,3BAACC;;;AAHJ,AAAA,2DAAA,3DAAMH,sEAIFI,OAAOzB;AAJX,AAKG,IAAA0B,WAAc,AAAC3B,oBAAS0B;IAAxBE,WAAgC,AAAC5B,oBAASC;AAA1C,AAAA,yBAAA0B,SAAAC,3BAACH;;;AALJ,AAAA,qDAAA,rDAAMH;;AAAN,AAQA,uBAAA,vBAAMO,sDAAW5B,GAAG6B;AAApB,AACE,IAAAC,WAAU,AAAC/B,oBAASC;IAApB+B,WAAwBF;AAAxB,AAAA,8BAAAC,SAAAC,hCAACC;;AAEH,0BAAA,1BAAMC,4DAAcjC,GAAG6B;AAAvB,AACE,IAAAK,WAAa,AAACnC,oBAASC;IAAvBmC,WAA2BN;AAA3B,AAAA,iCAAAK,SAAAC,nCAACC;;AAEH,AAAA,0BAAA,kCAAAlC,5DAAMoC;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,sDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,sDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAjC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,wDAAA,xDAAMiC,mEACFtC,GAAG6B;AADP,AAEG,IAAAU,WAAa,AAACxC,oBAASC;IAAvBwC,WAA2BX;AAA3B,AAAA,iCAAAU,SAAAC,nCAACC;;;AAFJ,AAAA,wDAAA,xDAAMH,mEAGFtC,GAAG6B,IAAIa;AAHX,AAIG,oBAAIA;AACF,OAACd,qBAAU5B,GAAG6B;;AACd,OAACI,wBAAajC,GAAG6B;;;;AANtB,AAAA,kDAAA,lDAAMS;;AAAN,AASA,AAAKK,wBACH,kBAAI,iBAAA9C,mBAAI,EAAK,QAAAI;AAAT,AAAA,GAAAJ;AAAAA;;AACI,OAAoBI;;MAC1B,qCAAqBD,GAAG4C,GAAGC;AAA3B,AACE,sCAAA,/BAAmB7C,oBAAG4C,GAAGC;GAC3B,mCAAmB7C,GAAG4C,GAAGC;AAAzB,AACE,IAAA,AACE,OAAc7C,eAAG,CAAA,iDAAU4C,cAAI,WAAK5B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;gBADpD,GAAA,CAAA8C,kBAESC;AAFT,QAAAD,JAEmB9B;AAFnB,AAGI,mBAAA,ZAAMgC,wCAAuChD,GAAGgB;;AAHpD,AAAA,MAAA8B;;;;AAON,AAAKG,+BACH,kBAAI,iBAAApD,mBAAI,EAAK,QAAAI;AAAT,AAAA,GAAAJ;AAAAA;;AACI,OAAuBI;;MAC7B,4CAA4BD,GAAG4C,GAAGC;AAAlC,AACE,yCAAA,lCAAsB7C,uBAAG4C,GAAGC;GAC9B,0CAA0B7C,GAAG4C,GAAGC;AAAhC,AACE,OAAc7C,eAAG,CAAA,iDAAU4C,cAAIC;;AAIrC,sBAAA,tBAAMK,oDAAUC,QAAQP,GAAGQ,SAASP;AAApC,AACE,IAAAQ,aAAA,AAAAC,cAAW,AAACY,+CAAMd,SAASD;IAA3BI,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,SAAA,AAAAD,kDAAAE,vDAAQzD;AAAR,AAAA,AACE,IAAM6C,oBAAQ;kBAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;;AAAjC,AACE,IAAAmE,iBAAYnE;IAAZoE,iBAAe,AAACK,eAAK7B;IAArByB,iBAAyBxB;AAAzB,AAAA,2GAAAsB,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAC1B,sDAAAA,oGAAAA;;AAFL;AAAA,eAAAU;eAAAE;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAC,qBAAA,AAAAJ,cAAAD;AAAA,AAAA,GAAAK;AAAA,AAAA,IAAAL,iBAAAK;AAAA,AAAA,GAAA,AAAAC,6BAAAN;AAAA,IAAAO,kBAAA,AAAAC,sBAAAR;AAAA,AAAA,eAAA,AAAAS,qBAAAT;eAAAO;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,SAAA,AAAAI,gBAAAX,rBAAQrD;AAAR,AAAA,AACE,IAAM6C,oBAAQ;kBAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;;AAAjC,AACE,IAAAsE,iBAAYtE;IAAZuE,iBAAe,AAACE,eAAK7B;IAArB4B,iBAAyB3B;AAAzB,AAAA,2GAAAyB,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAC7B,sDAAAA,oGAAAA;;AAFL;AAAA,eAAA,AAAAsB,eAAAZ;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIF,AAAA,gBAAA,wBAAAnD,xCAAMyE;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,4CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,4CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAtE,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,8CAAA,9CAAMsE,yDACF3E,GAAG4C,GAAGC;AADV,AAEG,iEAAA,1DAAC+B,4CAAG5E,GAAG4C,GAAGC;;;AAFb,AAAA,8CAAA,9CAAM8B,yDAGF3E,GAAG4C,GAAGC,QAAQgC;AAHlB,AAIG,GAAI,AAACC,wBAAQlC;AACX,OAACM,oBAASlD,GAAG,AAACgE,gBAAMpB,IAAI,AAACmC,iBAAOnC,IAAIC;;AACpC,IAAMA,cAAQ,WAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;AAAjC,AACE,IAAAgF,WAAY,AAACjF,oBAASC;IAAtBiF,WAA0B,AAACR,eAAK7B;IAAhCsC,WAAoCrC;AAApC,AAAA,kHAAAmC,SAAAC,SAAAC,4CAAAF,SAAAC,SAAAC,1LAACvC,sDAAAA,kFAAAA;;;;AAPR,AAAA,wCAAA,xCAAMgC;;AAAN,AAUA,kCAAA,lCAAMQ,4EAAsBnF,GAAG4C,GAAGC;AAAlC,AACE,IAAAuC,WAAmB,AAACrF,oBAASC;IAA7BqF,WAAiC,AAACZ,eAAK7B;IAAvC0C,WAA2CzC;AAA3C,AAAA,gIAAAuC,SAAAC,SAAAC,mDAAAF,SAAAC,SAAAC,/MAACrC,6DAAAA,yFAAAA;;AAEH,iCAAA,jCAAMsC,0EAAqBvF,GAAGwF;AAA9B,AACE,IAAAC,aAAA,AAAAnC,cAAckC;IAAdE,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,IAAAE,aAAA,AAAAH,kDAAAE;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;QAAT,AAAAF,4CAAAD,WAAA,IAAA,/DAAWnD;AAAX,AAAA,AACE,AAACuD,4CAAGjG,GAAGgG,EAAEtD;;AADX;AAAA,eAAA+C;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAlC,qBAAA,AAAAJ,cAAAmC;AAAA,AAAA,GAAA/B;AAAA,AAAA,IAAA+B,iBAAA/B;AAAA,AAAA,GAAA,AAAAC,6BAAA8B;AAAA,IAAA7B,kBAAA,AAAAC,sBAAA4B;AAAA,AAAA,eAAA,AAAA3B,qBAAA2B;eAAA7B;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAAmC,aAAA,AAAA/B,gBAAAyB;QAAA,AAAAK,4CAAAC,WAAA,IAAA,/DAASC;QAAT,AAAAF,4CAAAC,WAAA,IAAA,/DAAWrD;AAAX,AAAA,AACE,AAACuD,4CAAGjG,GAAGgG,EAAEtD;;AADX;AAAA,eAAA,AAAAuB,eAAAwB;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAGF,uBAAA,vBAAMS,sDAAWlG,GAAGmG;AAApB,AACE,IAAMC,MAAI,AAACrG,oBAASC;AAApB,AAIE,IAAAqG,aAAA,AAAA/C,cAAc6C;IAAdG,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,IAAAE,aAAA,AAAAH,kDAAAE;QAAA,AAAAV,4CAAAW,WAAA,IAAA,/DAAST;QAAT,AAAAF,4CAAAW,WAAA,IAAA,/DAAW/D;AAAX,AAAA,AACE,IAAAiE,iBAAaP;IAAbQ,iBAAiB,AAACnC,eAAKuB;IAAvBa,iBAA0B,eAAA,bAAI,MAAA,LAAMnE,eAERA;AAF5B,AAAA,oBAAAiE,eAAAC,eAAAC,lDAACI;;AADH;AAAA,eAAAZ;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAA9C,qBAAA,AAAAJ,cAAA+C;AAAA,AAAA,GAAA3C;AAAA,AAAA,IAAA2C,iBAAA3C;AAAA,AAAA,GAAA,AAAAC,6BAAA0C;AAAA,IAAAzC,kBAAA,AAAAC,sBAAAwC;AAAA,AAAA,eAAA,AAAAvC,qBAAAuC;eAAAzC;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAA8C,aAAA,AAAA1C,gBAAAqC;QAAA,AAAAP,4CAAAY,WAAA,IAAA,/DAASV;QAAT,AAAAF,4CAAAY,WAAA,IAAA,/DAAWhE;AAAX,AAAA,AACE,IAAAoE,iBAAaV;IAAbW,iBAAiB,AAACtC,eAAKuB;IAAvBgB,iBAA0B,eAAA,bAAI,MAAA,LAAMtE,eAERA;AAF5B,AAAA,oBAAAoE,eAAAC,eAAAC,lDAACC;;AADH;AAAA,eAAA,AAAAhD,eAAAoC;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAKJ,4BAAA,5BAAMa,gEAAWlH,GAAGmH,IAAIC;AAAxB,AAEE,IAAAC,iBAAMF;IAANE,qBAAA,EAAA,CAAAA,0BAAAC,oBAAA,AAAAD,mBAAA;AAAA,AAAA,QAAAA;KAAA;AACM,AAAM,AAAMrH,QAAI,6CAAKoH;;;KAD3B;AAES,AAAM,AAAapH,eAAI,6CAAKoH;;;KAFrC;AAGO,AAAM,AAAWpH,aAAIoH;;;KAH5B;AAKe,gBAAA,hBAAepH,8BAAiBoH;;;KAL/C;AAMe,gBAAA,hBAAepH,8BAAiBoH;;;KAN/C;AAOW,gBAAA,hBAAepH,0BAAaoH;;;KAPvC;AAQe,gBAAA,hBAAepH,8BAAiBoH;;;KAR/C;AASU,gBAAA,hBAAepH,yBAAYoH;;;KATrC;AAUa,gBAAA,hBAAepH,4BAAeoH;;;KAV3C;AAWQ,gBAAA,hBAAepH,uBAAUoH;;;KAXjC;AAYW,gBAAA,hBAAepH,0BAAaoH;;;KAZvC;AAaQ,gBAAA,hBAAepH,uBAAUoH;;;KAbjC;AAcU,gBAAA,hBAAepH,yBAAYoH;;;KAdrC;AAeU,gBAAA,hBAAepH,yBAAYoH;;;KAfrC;AAgBS,gBAAA,hBAAepH,wBAAWoH;;;KAhBnC;AAiBM,AAAC7B,+BAAoBvF,GAAGoH;;;KAjB9B;AAkBS,GACE,UAAA,TAAMA;AADR;AAAA,GAIE,OAASA;AACT,gBAAA,hBAAepH,wBAAWoH;;AAL5B,GAOE,AAACG,qBAAKH;AACN,AAAClB,qBAAUlG,GAAGoH;;AARhB,AAWE,AAACH,oBAAYjH,GAAGoH;;;;;;;;AAEzB,IAAMI,WAAG,AAAC/C,eAAK0C;AAAf,AACE,oBAAI,iBAAAtH,mBAAI,gCAAA,hCAAC4H,uBAAgBD;AAArB,AAAA,oBAAA3H;AAAAA;;AACI,uCAAA,hCAAC4H,uBAAgBD;;;AACvB,AAAexH,gBAAGwH,SAAGJ;;AACrB,CAAMpH,GAAGwH,YAAGJ;;;;;AAClBpH;;AAEF,uBAAA,vBAAM0H,sDAAW1H,GAAG2H;AAApB,AACE,OAACC,oBACC,WAAK5H,OAAGmH,IAAIC;AAAZ,AAEE,AAACF,0BAAUlH,OAAGmH,IAAIC;;AAClBpH;GACF,AAACD,oBAASC,IACV2H;;AAEJ,sBAAA,tBAAME,oDAAU7H,GAAGmH,IAAIC;AAAvB,AACE,OAACF,0BAAU,AAACnH,oBAASC,IAAImH,IAAIC;;AAG/B,8BAAA,9BAAMU,oEAAY9H,GAAG6B;AAArB,AACE,IAAAkG,WAAe,AAAChI,oBAASC;IAAzBgI,WAA6BnG;AAA7B,AAAA,mCAAAkG,SAAAC,rCAACC;;AAEH,gCAAA,hCAAOC,wEAAoBC,QAAQC;AAAnC,AACE,GAAI,AAAC9E,cAAI6E;AACP,6DAAA,TAAKA,yDAAYC;;AACjBA;;;AAMJ,uBAAA,vBAAMC,sDAAWC;AAAjB,AACE,IAAMA,WAAK,AAAC7D,eAAK6D;IACXC,OAAK,iBAAA,jBAAUD;IACfE,QAAM,iBAAA,jBAAUF;AAFtB,AAGE,GACE,EAAK,6CAAA,7CAACG,kDAAKF,WAAM,6CAAA,7CAACE,kDAAKD;AADzB,mGAAA,KAAA,dAEGF;;AAFH,GAIE,6CAAA,7CAACG,kDAAKD;AAJR,uHAAA,7BAKG,mBAAA,nBAAYF,uBAAOC,WAEnB,wDAAA,KAAA,7DAACG,uBAAY,AAAYJ,mBAAK,QAAA,PAAKC;;AAPtC,GASE,6CAAA,7CAACE,kDAAKF;AATR,0JAAA,hEAUG,mBAAA,nBAAYD,uBAAOE,OACnB,AAAYF,mBAAK,SAAA,RAAKE;;AAXzB,GAcE,CAAGA,QAAMD;AACT,MAAO,CAAA,wEAAiCD;;AAf1C,AAAA,0FAkBG,mBAAA,nBAAYA,uBAAOE,OACnB,AAAYF,mBAAK,SAAA,RAAKE,aAAOD,MAC7B,wDAAA,KAAA,7DAACG,uBAAY,AAAYJ,mBAAK,QAAA,PAAKC;;;;;;;AAG1C,6BAAA,6CAAAI,1EAAMK,kEAAiBC;AAAvB,AAAA,IAAAL,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAxJ,gCAAA,AAAAwJ,+BAAA,KAAA,OAAA,QAAA,AAAAC,8CAAAC,mBAAAF,YAAAA;YAAAA,RAAkDO;aAAlD,AAAAJ,4CAAAH,eAAA,pEAAuCM;AAAvC,AACE,gBAAA,ZAAMG;IAAND,aACoC,AAACf,qBAAUY;eAD/C,AAAAnD,4CAAAsD,WAAA,IAAA,tEACOE;aADP,AAAAxD,4CAAAsD,WAAA,IAAA,pEACgBG;kBADhB,AAAAzD,4CAAAsD,WAAA,IAAA,zEACuBI;AADvB,AAEE,oBAAMD;AAAN,AACE,WAAA,VAAMF,kBAAeE;;AADvB;;AAGA,oBAAMC;AAAN,AACE,WAAA,VAAMH,qBAAkB,AAACnB,8BAAmBgB,OAAMM;;AADpD;;AAGA,IAAAC,WAAM,AAACC,mBAAcJ,SAASD;AAA9B,AACE,qBAAAI,rBAAC/B,8BAAU,qDAAA,rDAACiC,+CAAOR;;AADrBM;;AAKJ,AAAA,oBAAA,4BAAAvJ,hDAAM2J;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,gDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,gDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAxJ,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,kDAAA,lDAAMwJ,6DACFC;AADJ,AAEG,oBAAMA;AAAN,AACE,IAAApG,qBAAa,AAAC3D,oBAAS+J;AAAvB,AAAA,oBAAApG;AAAA,AAAA,QAAAA,JAAW/D;AAAX,AACE,AAAc,AAAQM,0BAAaN;;AACnCA;;AAFF;;;AADF;;;;AAFH,AAAA,kDAAA,lDAAMkK,6DAMF7J,GAAG8J;AANP,AAOG,oBAAMA;AAAN,AACE,IAAApG,qBAAa,AAAC3D,oBAAS+J;AAAvB,AAAA,oBAAApG;AAAA,AAAA,QAAAA,JAAW/D;AAAX,AACE,AAAc,AAACI,oBAASC,gBAAIL;;AAC5BA;;AAFF;;;AADF;;;;AAPH,AAAA,4CAAA,5CAAMkK;;AAAN,AAYA,8BAAA,gDAAAE,9EAAMI,oEACHC;AADH,AAAA,IAAAJ,aAAAD;IAAAE,aAAA,AAAA3G,cAAA0G;IAAAE,eAAA,AAAAlG,gBAAAiG;IAAAA,iBAAA,AAAAhG,eAAAgG;SAAAC,LACcG;IADdH,mBAAA,AAAAlG,gBAAAiG;IAAAA,iBAAA,AAAAhG,eAAAgG;SAAAC,LACiBI;SADjBL,LACsBM;WADtBP,PAC6BF;AAD7B,AAEE,GAAU,eAAAxC,dAAU+C;AAApB;AAAA,AACE,MAAO,gDAAA,mBAAA,2CAAA,9GAACG,kKAAkCV;;;AAE5C,GACE,EAAK,OAAA,NAAMQ,iBAAI,OAAA,NAAMC;AADvB,0FAEG,iBAAAE,WAAWJ;IAAXK,WAAA;AAAA,AAAA,0FAAAD,SAAAC,gCAAAD,SAAAC,pIAACN,0CAAAA,6DAAAA;KAFJ;;AAAA,GAGE,AAAC7C,qBAAK+C;AAHR,0FAIG,CAACF,0CAAAA,iDAAAA,TAAUC,6BAAAA,1BAAGC,6BAAAA,KAAIC;;AAJrB,AAAA,0FAMG,iBAAAI,WAAWN;IAAXO,WAAA;AAAA,AAAA,0FAAAD,SAAAC,gCAAAD,SAAAC,pIAACR,0CAAAA,6DAAAA;KAAiB,AAACS,6CAAKN,GAAGD;;;;;AAIhC,2BAAA,3BAAMQ,8DAAeC;AAArB,AACE,IAAAC,aAA2B,AAACb,4BAAiBnB,2BAAgB+B;WAA7D,AAAAjF,4CAAAkF,WAAA,IAAA,lEAAOlB;oBAAP,AAAAhE,4CAAAkF,WAAA,IAAA,3EAAYC;AAAZ,AAEE,IAAAC,mBAAA,AAAA5H,cAAqB2H;IAArBE,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,yBAAA,AAAAD,wDAAAE,7EAAQC;AAAR,AAAA,AACE,IAAMC,iBAAS,AAACxL,oBAASuL;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAE,mBAAA,AAAAnI,cAAc,AAAC4I,4CAAInM,oBAASwL;IAA5BG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQK;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAAR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAlI,2BAAA,AAAAJ,cAAAmI;AAAA,AAAA,GAAA/H;AAAA,AAAA,IAAA+H,uBAAA/H;AAAA,AAAA,GAAA,AAAAC,6BAAA8H;AAAA,IAAA7H,wBAAA,AAAAC,sBAAA4H;AAAA,AAAA,eAAA,AAAA3H,qBAAA2H;eAAA7H;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAAyH,9BAAQQ;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAA,AAAAhI,eAAAwH;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAxH,eAAAwH;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AACE,AAACU,gDAAOrC,KAAKyB;;;AAPrB;AAAA,eAAAL;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAA3H,2BAAA,AAAAJ,cAAA4H;AAAA,AAAA,GAAAxH;AAAA,AAAA,IAAAwH,uBAAAxH;AAAA,AAAA,GAAA,AAAAC,6BAAAuH;AAAA,IAAAtH,wBAAA,AAAAC,sBAAAqH;AAAA,AAAA,eAAA,AAAApH,qBAAAoH;eAAAtH;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,yBAAA,AAAAI,gBAAAkH,rCAAQI;AAAR,AAAA,AACE,IAAMC,iBAAS,AAACxL,oBAASuL;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAM,mBAAA,AAAAvI,cAAc,AAAC4I,4CAAInM,oBAASwL;IAA5BO,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQC;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAAJ;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAtI,+BAAA,AAAAJ,cAAAuI;AAAA,AAAA,GAAAnI;AAAA,AAAA,IAAAmI,uBAAAnI;AAAA,AAAA,GAAA,AAAAC,6BAAAkI;AAAA,IAAAjI,wBAAA,AAAAC,sBAAAgI;AAAA,AAAA,eAAA,AAAA/H,qBAAA+H;eAAAjI;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAA6H,9BAAQI;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAA,AAAAhI,eAAA4H;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAA5H,eAAA4H;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AACE,AAACM,gDAAOrC,KAAKyB;;;AAPrB;AAAA,eAAA,AAAAtH,eAAAiH;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAQApB;;AAEJ,AAAA,AAAA,AAAA,AAAA,mDAAA1K,nDACEkI;;AADF,AAAA,AAAA,AACEA,kEACA,WAAU7I;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgB,gCAAA,zBAACqM,4GAAerM;;;AAFlC,AAAA,AAAA,AAAA,4DAAAW,5DAIEgN;;AAJF,AAAA,AAAA,AAIEA,2EACA,WAAU3N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACqM,yBAAcrM;;;AANnB,AAAA,AAAA,AAAA,mDAAAW,nDAQEJ;;AARF,AAAA,AAAA,AAQEA,kEACA,WAAUP;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACyN,4CAAI1N,mBAAQC;;AAEjB,oBAAM;AAAN,AACE,AAAA,AAAA,AAAA,AAAA,6CAAAW,7CACEiN;;AADF,AAAA,AAAA,AACEA,4DACA,WAAU5N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgBA;;;AAHpB;AAMA,oBAAM;AAAN,AACE,AAAA,AAAA,AAAA,AAAA,kDAAAW,lDACEkN;;AADF,AAAA,AAAA,AACEA,iEACA,WAAU7N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgBA;;;AAHpB;AAMA;;;mBAAA,nBAAM8N,8CAEHzC;AAFH,AAGE,IAAA0C,WAAoB,AAACzM,oBAAS+J;AAA9B,AAAA,+BAAA0C,xBAACC;;AAEH,oBAAA,pBAAMC,gDAAQ5C;AAAd,AACE,GAAI,EAAA,EAAA,SAAA,QAAA,EAAA,EAAA,CAAA,2CAAA,gBAAA,CAAA1K,gCAAA,6BAAA,KAAA,OAAA,1JAAsB0K,qBAAAA,4FAAAA;AACxB,IAAA6C,aAAA,AAAArJ,cAAUwG;IAAV8C,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,QAAA,AAAAD,kDAAAE,tDAAQnN;AAAR,AAAA,AAAgB,CAAC+M,kDAAAA,qDAAAA,LAAO/M,iCAAAA;;AAAxB;AAAA,eAAAgN;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAApJ,qBAAA,AAAAJ,cAAAqJ;AAAA,AAAA,GAAAjJ;AAAA,AAAA,IAAAiJ,iBAAAjJ;AAAA,AAAA,GAAA,AAAAC,6BAAAgJ;AAAA,IAAA/I,kBAAA,AAAAC,sBAAA8I;AAAA,AAAA,eAAA,AAAA7I,qBAAA6I;eAAA/I;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,QAAA,AAAAI,gBAAA2I,pBAAQhN;AAAR,AAAA,AAAgB,CAAC+M,kDAAAA,qDAAAA,LAAO/M,iCAAAA;;AAAxB;AAAA,eAAA,AAAAsE,eAAA0I;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AACA,OAACI,oBAAejD;;;AAEpB,0BAAA,1BAAMkD,4DAAcC,IAAIC;AAAxB,AAEE,IAAAC,WAAiB,AAACpN,oBAASmN;IAA3BE,WAAgC,AAACrN,oBAASkN;AAA1C,AAAA,4BAAAE,SAAAC,9BAACC;;AAEH,AAAA,kBAAA,0BAAAnN,5CAAMqN;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,8CAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAlN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,gDAAA,hDAAMkN,2DACFvN,GAAGwN;AADP,AACiB,OAAM,AAAa,AAACzN,oBAASC,gBAAKwN;;;AADnD,AAAA,gDAAA,hDAAMD,2DAEFvN;AAFJ,AAEQ,OAAa,AAACD,oBAASC;;;AAF/B,AAAA,0CAAA,1CAAMuN;;AAAN,AAIA,AAAA,mBAAA,2BAAArN,9CAAMwN;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAArN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMqN,4DACF1N;AADJ,AACQ,yDAAA,lDAAC2N,+CAAM3N;;;AADf,AAAA,iDAAA,jDAAM0N,4DAEF1N,GAAG4N;AAFP,AAGG,OAAM,AAAW,AAAC7N,oBAASC,cAAK4N;;;AAHnC,AAAA,2CAAA,3CAAMF;;AAAN,AAMA,4BAAA,5BAAMG,gEAAU7N;AAAhB,AAAoB,OAAW,AAACD,oBAASC;;AAEzC,2BAAA,3BAAM8N,8DAAe9N;AAArB,AACE,YAAAP,sBAAa,AAAY,AAACM,oBAASC;;AAErC,sBAAA,tBAAM+N,oDAAU/N;AAAhB,AACE,YAAAP,sBAAa,AAAY,AAACM,oBAASC;;AAErC,yBAAA,zBAAMgO,0DAAahO;AAAnB,AACE,YAAAP,sBAAa,AAAc,AAACM,oBAASC;;AAEvC,AAAA,kBAAA,0BAAAE,5CAAMgO;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAA7N,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,gDAAA,hDAAM6N,2DACFlO,GAAGmH;AADP,AACY,OAAe,AAACpH,oBAASC,iBAAI,AAACyE,eAAK0C;;;AAD/C,AAAA,gDAAA,hDAAM+G,2DAEFlO,GAAGmH,IAAIgH;AAFX,AAEoB,IAAAtO,mBAAI,AAAe,AAACE,oBAASC,iBAAI,AAACyE,eAAK0C;AAAvC,AAAA,oBAAAtH;AAAAA;;AAA6CsO;;;;AAFjE,AAAA,0CAAA,1CAAMD;;AAAN,AAIA,sBAAA,tBAAME,oDAAUpO,GAAGmH;AAAnB,AACE,OAAkB,AAACpH,oBAASC,oBAAI,AAACyE,eAAK0C;;AAExC,kBAAA,lBAAMkH,4CAAMrO,GAAGmH;AAAf,AACE,OAAe,AAACpH,oBAASC,iBAAI,CAAA,oDAAa,AAACyE,eAAK0C;;AAElD,sBAAA,tBAAMmH,oDAAUtO,GAAGmH,IAAIC;AAAvB,AACE,OAAe,AAACrH,oBAASC,iBAAI,CAAA,oDAAa,AAACyE,eAAK0C,gBAAM,6CAAKC;;AAE7D,sBAAA,tBAAMmH,oDAAUzE,KAAK0E;AAArB,AACE,OAAM,AAAa,AAACzO,oBAAS+J,kBAAO0E;;AAEtC,sBAAA,tBAAMC,oDAAU3E;AAAhB,AACE,OAAa,AAAC/J,oBAAS+J;;AAEzB,AAAA,sBAAA,8BAAA5J,pDAAM6O;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,yDAAAF;;;AAAA,AAAA,AAAA,AAAAE,2DAAA,WAAkBG;AAAlB,AACE,IAAMC,WAAS,AAAyBlP;AAAxC,AACE,IAAAmP,mBAAA,AAAA9L,cAAa4L;IAAbG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,iBAAA,AAAAD,wDAAAE,rEAAQzF;AAAR,AAAA,AACE,AAAcqF,qBAAS,AAAC3Q,mBAAQsL;;AADlC;AAAA,eAAAsF;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAA7L,2BAAA,AAAAJ,cAAA8L;AAAA,AAAA,GAAA1L;AAAA,AAAA,IAAA0L,uBAAA1L;AAAA,AAAA,GAAA,AAAAC,6BAAAyL;AAAA,IAAAxL,wBAAA,AAAAC,sBAAAuL;AAAA,AAAA,eAAA,AAAAtL,qBAAAsL;eAAAxL;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,iBAAA,AAAAI,gBAAAoL,7BAAQtF;AAAR,AAAA,AACE,AAAcqF,qBAAS,AAAC3Q,mBAAQsL;;AADlC;AAAA,eAAA,AAAA7F,eAAAmL;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAEA,YAAA3P,sBAAa0P;;;AAJjB,AAAA,AAAAJ,8CAAA;;AAAA;AAAA,AAAA,AAAAA,wCAAA,WAAAC;AAAA,AAAA,IAAAC,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAA3L,cAAA0L;;;AAAA,AAQA;;;;0BAAA,1BAAMQ,4DAGHC;AAHH,AAIE,IAAMC,UAAQ,iBAAA,jBAACC,iDAAuCF;AAAtD,AAEE,IAAAG,mBAAA,AAAAtM,cAAiCoM;IAAjCG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,IAAAE,mBAAA,AAAAH,wDAAAE;uBAAA,AAAAjK,4CAAAkK,iBAAA,IAAA,pFAASE;wBAAT,AAAApK,4CAAAkK,iBAAA,IAAA,rFAAoBG;AAApB,AAAA,AACE,AAACC,KAAQD;;AADX;AAAA,eAAAP;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAArM,2BAAA,AAAAJ,cAAAsM;AAAA,AAAA,GAAAlM;AAAA,AAAA,IAAAkM,uBAAAlM;AAAA,AAAA,GAAA,AAAAC,6BAAAiM;AAAA,IAAAhM,wBAAA,AAAAC,sBAAA+L;AAAA,AAAA,eAAA,AAAA9L,qBAAA8L;eAAAhM;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAAqM,mBAAA,AAAAjM,gBAAA4L;uBAAA,AAAA9J,4CAAAmK,iBAAA,IAAA,pFAASC;wBAAT,AAAApK,4CAAAmK,iBAAA,IAAA,rFAAoBE;AAApB,AAAA,AACE,AAACC,KAAQD;;AADX;AAAA,eAAA,AAAAlM,eAAA2L;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAGA,OAACS,+CAAO;wBAAAC,NAAKb;AAAL,AAAA,IAAAc,aAAAD;iBAAA,AAAAxK,4CAAAyK,WAAA,IAAA,xEAAQL;kBAAR,AAAApK,4CAAAyK,WAAA,IAAA,zEAAmBJ;AAAnB,AACE,+CAAA,xCAACzH,uBAAY+G,MAAES;;CACvBT,EACAC;;AAGN,8BAAA,9BAAMc,oEAAef;AAArB,AACE,IAAMzP,KAAG,uBAAA,vBAACyQ;AAAV,AACE,AAAM,AAAazQ,eAAIyP;;AACvB,YAAAhQ,sBAAa,AAACiR,yBAAoBzQ,SAAYD;;AAElD,uBAAA,vBAAM2Q,sDAAW3Q;AAAjB,AACE,OAAY,AAACD,oBAASC;;AAExB,+BAAA,/BAAM4Q,sEAAmB5Q,GAAG6B;AAA5B,AACE,IAAAgP,WAAwB,AAAC9Q,oBAASC;IAAlC8Q,WAAsCjP;AAAtC,AAAA,mCAAAgP,SAAAC,rCAACC;;AAEH,AAAA,6BAAA,qCAAA7Q,lEAAM+Q;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAA5Q,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,2DAAA,3DAAM4Q,sEACFjR,GAAGkR;AADP,AACY,IAAAC,WAAkC,AAACpR,oBAASC;IAA5CoR,WAAgD,AAAC3M,eAAKyM;AAAtD,AAAA,6CAAAC,SAAAC,/CAACC;;;AADb,AAAA,2DAAA,3DAAMJ,sEAEFjR,GAAGkR,IAAIrP;AAFX,AAEgB,IAAAyP,WAAkC,AAACvR,oBAASC;IAA5CuR,WAAgD,AAAC9M,eAAKyM;IAAtDM,WAA2D,AAAC/M,eAAK5C;AAAjE,AAAA,6CAAAyP,SAAAC,SAAAC,xDAACH;;;AAFjB,AAAA,qDAAA,rDAAMJ;;AAAN,AAIA,uBAAA,vBAAMQ,sDAAWrL;AAAjB,AACE,IAAAsL,WAAa,AAAC3R,oBAASqG;AAAvB,AAAA,+BAAAsL,xBAACC;;AAEH,uBAAA,vBAAMC,sDAAWxL,IAAIgB;AAArB,AACE,IAAAyK,WAAa,AAAC9R,oBAASqG;IAAvB0L,WAA4B1K;AAA5B,AAAA,+BAAAyK,SAAAC,jCAACC;;AAEH,gBAAA,hBAAMC,wCAAI5K;AAAV,AACE,mEAAA,fAAK,SAAA,RAAKA;;AAEZ,iBAAA,jBAAM6K,0CAAK7K;AAAX,AACE,2DAAA,PAAKA;;AAEP,gCAAA,hCAAM8K,wEAAelS,GAAGmS;AAAxB,AACE,OAAiB,AAASnS,wBAAI,AAACyE,eAAK0N;;AAEtC,0BAAA,1BAAMC,4DAAcpS,GAAGmS;AAAvB,AACE,IAAMnS,SAAG,AAACD,oBAASC;AAAnB,AACE,OAACkS,8BAAclS,OAAGmS;;AAEtB,2BAAA,3BAAME,8DAAerS,GAAGsS;AAAxB,AACE,IAAMtS,SAAG,AAACD,oBAASC;AAAnB,AACE,IAAAuS,aAAA,AAAAjP,cAAWgP;IAAXE,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,SAAA,AAAAD,kDAAAE,vDAAQC;AAAR,AAAA,AACE,AAACT,8BAAclS,OAAG2S;;AADpB;AAAA,eAAAJ;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAhP,qBAAA,AAAAJ,cAAAiP;AAAA,AAAA,GAAA7O;AAAA,AAAA,IAAA6O,iBAAA7O;AAAA,AAAA,GAAA,AAAAC,6BAAA4O;AAAA,IAAA3O,kBAAA,AAAAC,sBAAA0O;AAAA,AAAA,eAAA,AAAAzO,qBAAAyO;eAAA3O;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,SAAA,AAAAI,gBAAAuO,rBAAQI;AAAR,AAAA,AACE,AAACT,8BAAclS,OAAG2S;;AADpB;AAAA,eAAA,AAAA1O,eAAAsO;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIJ,AAAA,AAAA,AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,oEAAA,WAAAK,mBAAAC,lGAAWwD;;AAAX,AAAA,IAAAzD,yBAAA;AAAA,AAAA,OAAAA,8DAAAC,gBAAA;;;AAAA,AAAA,AAAA,oEAAA,WAAAC,mBAAAC,OAAAC,zGAAWqD;;AAAX,AAAA,IAAAvD,yBAAA;AAAA,AAAA,IAAAG,WAAAF;IAAAE,eAAA,EAAA,CAAAA,oBAAA3L,oBAAA,AAAA2L,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAAC;;;KAAA;AAAAC;;;;AAAA,OAAAC,4CAAAC,gBAAAN,OAAAC;;;;;AAAA,AAAA,AAAA,gFAAA,WAAAM,mBAAAC,qBAAAC,nIAAW6C;;AAAX,AAAA,IAAA/C,yBAAA;AAAA,AAAA,IAAAG,wBAAA;kBAAAC;AAAA,AAAA,OAAAC,+BAAAJ,qBAAAK,oBAAA,GAAA,IAAA,GAAAJ,mBAAAE;;;AAAA,AAAA,OAAAC,+BAAAJ,qBAAAE,sBAAA,0BAAA,KAAA,IAAAD,mBAAA,AAAAK,+CAAA,mFAAA,KAAAzH,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAA8G,UAAA,OAAA,KAAA9G,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,gDAAA+G,UAAA,eAAAE;;;AAAA,AAAA,AAAA,wEAAA,WAAAS,nFAAWuC;;AAAX,AAAA,IAAAvC,eAAA;AAAA,AAAA,YAAAC,qBAAA,IAAAD,aAAA,EAAA,mFAAA,+CAAA,wDAAA,kBAAAT,iBAAA,AAAAW,oBAAAX,iBAAA,AAAAY;;;AAAA,AAAA,AAAA,gEAAA,WAAAC,3EAAWmC;;AAAX,AAAA,IAAAnC,yBAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,sEAAA,WAAAC,jFAAWiC;;AAAX,AAAA,IAAAjC,yBAAA;AAAA,AAAA,kCAAAlB,SAAAC,SAAAgB,cAAAd,gBAAAgB,tEAAWgC;;;AAAX,AAAA,AAAA,oEAAA,WAAA/B,/EAAW+B;;AAAX,AAAA,IAAA/B,yBAAA;AAAA,AAAA,QAAA,IAAA,AAAAvQ,gBAAAsP;;;AAAA,AAAA,AAAA,gEAAA,WAAAkB,3EAAW8B;;AAAX,AAAA,IAAA9B,yBAAA;AAAA,AAAA,IAAAC,kBAAAH;AAAA,AAAA,GAAA,EAAA,CAAAG,mBAAA;AAAAA;;AAAA,IAAAA,sBAAA,iBAAAC,eAAA;kBAAAC;AAAA,AAAA,QAAA,YAAA,AAAAC,8BAAAD;;;AAAA,AAAA,OAAAD,aAAAF;;AAAA,AAAA,AAAAF,gBAAAG;;AAAAA;;;;AAAA,AAAA,AAAA,kEAAA,WAAAI,UAAAC,vFAAWwB;;AAAX,AAAA,IAAAzB,gBAAA;AAAA,AAAA,SAAA,EAAA,CAAAC,cAAA,YAAA,CAAA,AAAAD,8BAAA,AAAAC,6BAAA,AAAApM,6CAAA,AAAAmM,gBAAA,AAAAC,mBAAA,AAAApM,6CAAA,AAAAmM,gBAAA,AAAAC,mBAAA,AAAApM,6CAAA,AAAAmM,uBAAA,AAAAC;;;AAAA,AAAA,AAAA,iEAAA,WAAAC,mBAAAC,/FAAWsB;;AAAX,AAAA,IAAAvB,yBAAA;AAAA,AAAA,GAAA,AAAAE,0BAAA,iFAAA,qDAAA,mEAAAD;AAAA,OAAApL,+CAAA,AAAAsL,qBAAA,AAAAC,6CAAA,mCAAAJ,wBAAAX,eAAAY;;AAAA,kCAAA7B,SAAAC,SAAAgB,cAAA,AAAAgB,oBAAA,AAAAxL,+CAAA0J,gBAAA0B,kBAAA,3JAAWsB;;;;AAAX,AAAA,AAAA,wEAAA,WAAAjB,mBAAAC,gBAAAvB,tHAAWuC;;AAAX,AAAA,IAAAjB,yBAAA;AAAA,AAAA,IAAAE,cAAAC;IAAAC,cAAAH;AAAA,AAAA,oBAAA,iBAAAI,WAAA;IAAAC,WAAAF;AAAA,AAAA,QAAAF,4CAAAA,0CAAAG,SAAAC,YAAAJ,sBAAAG,SAAAC;;AAAA,kCAAA5B,SAAAX,SAAAgB,cAAAd,gBAAA,tEAAWgD;;AAAX,oBAAA,iBAAAV,WAAA;IAAAC,WAAAJ;AAAA,AAAA,QAAAF,4CAAAA,0CAAAK,SAAAC,YAAAN,sBAAAK,SAAAC;;AAAA,kCAAA1C,SAAAY,SAAAK,cAAAd,gBAAA,tEAAWgD;;AAAX,kCAAAnD,SAAAC,SAAAgB,cAAA,AAAA0B,8CAAAxC,gBAAAgC,gBAAAvB,UAAA,9IAAWuC;;;;;AAAX,AAAA,AAAA,kEAAA,WAAAP,7EAAWO;;AAAX,AAAA,IAAAP,yBAAA;AAAA,AAAA,OAAAxS,cAAA,AAAAuQ,+CAAA,mFAAA,KAAAkC,mBAAA,+CAAA7C,SAAA,OAAA,KAAA6C,mBAAA,gDAAA5C,SAAA,eAAAE;;;AAAA,AAAA,AAAA,yEAAA,WAAA2C,mBAAAlC,vGAAWuC;;AAAX,AAAA,IAAAL,yBAAA;AAAA,AAAA,kCAAA9C,SAAAC,SAAAW,SAAAT,gBAAAgB,jEAAWgC;;;AAAX,AAAA,AAAA,sEAAA,WAAAJ,mBAAAC,pGAAWG;;AAAX,AAAA,IAAAJ,yBAAA;AAAA,AAAA,GAAA,AAAAnR,wBAAAoR;AAAA,OAAAD,kEAAA,AAAAE,6CAAAD,oBAAA,KAAA,AAAAC,6CAAAD,oBAAA;;AAAA,OAAA7F,+CAAA+F,gBAAAH,uBAAAC;;;;AAAA,AAAA,AAAAG,iCAAA;AAAA,AAAA,0FAAA,mDAAA;;;AAAA,AAAA,AAAAA,uCAAA;;AAAA,AAAA,AAAAA,4CAAA,WAAAC;AAAA,AAAA,YAAAC,eAAA,KAAA,wBAAA,KAAA,IAAA;;;AAAA,AAAA,AAAAF,+CAAA,WAAAC,mBAAAE;AAAA,AAAA,OAAAhX,iBAAAgX,qBAAA;;;AAAA;;;6BAAA,7BAAWM,kEAAY5D,EAAEC;AAAzB,AAAA,YAAAkD,0BAAA,KAAA,KAAA,dAAuBnD,EAAEC;;;AAAzB;;;gCAAA,wCAAAsD,xEAAWM;AAAX,AAAA,IAAAL,uBAAA,iBAAAC,WAAA,AAAAC,sDAAAH,SAAA,iGAAA;AAAA,AAAA,GAAA,AAAAI,wBAAAJ;AAAA,OAAAvB,6CAAA,mCAAAyB;;AAAAA;;;AAAA,AAAA,YAAAN,sBAAA,AAAA,6EAAAI,UAAA,AAAA,8EAAAA,UAAA,KAAA,AAAAtB,oBAAAuB,sBAAA;;;AAAAL,AAEA,0BAAA,1BAAMW,4DAAchX;AAApB,AACE,IAAMiX,MAAI,iBAAAC,WAAgB,AAACnX,oBAASC;AAA1B,AAAA,8BAAAkX,vBAACC;;AAAX,AACE,OAACL,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,iCAAA,jCAAMG,0EAAqBpX;AAA3B,AACE,IAAMiX,MAAI,iBAAAI,WAAsB,AAACtX,oBAASC;AAAhC,AAAA,oCAAAqX,7BAACC;;AAAX,AACE,OAACR,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,6BAAA,7BAAMM,kEAAiBvX;AAAvB,AACE,IAAMiX,MAAI,iBAAAO,WAAkB,AAACzX,oBAASC;AAA5B,AAAA,gCAAAwX,zBAACC;;AAAX,AACE,OAACX,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,AAAA,AAAA,AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,8DAAA,WAAArE,mBAAAC,5FAAW2F;;AAAX,AAAA,IAAA5F,yBAAA;AAAA,AAAA,OAAAA,8DAAAC,gBAAA;;;AAAA,AAAA,AAAA,8DAAA,WAAAC,mBAAA4E,OAAA1E,nGAAWwF;;AAAX,AAAA,IAAA1F,yBAAA;AAAA,AAAA,IAAA6E,WAAAD;IAAAC,eAAA,EAAA,CAAAA,oBAAArQ,oBAAA,AAAAqQ,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAAC;;;KAAA;AAAAC;;;;AAAA,OAAAzE,4CAAAC,gBAAAqE,OAAA1E;;;;;AAAA,AAAA,AAAA,0EAAA,WAAAM,mBAAAC,qBAAAC,7HAAWgF;;AAAX,AAAA,IAAAlF,yBAAA;AAAA,AAAA,IAAAG,wBAAA;kBAAAC;AAAA,AAAA,OAAAC,+BAAAJ,qBAAAK,oBAAA,GAAA,IAAA,GAAAJ,mBAAAE;;;AAAA,AAAA,OAAAC,+BAAAJ,qBAAAE,sBAAA,oBAAA,KAAA,IAAAD,mBAAA,AAAAK,+CAAA,mFAAA,KAAAzH,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,8CAAAwL,UAAA,OAAA,KAAAxL,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAAyL,UAAA,eAAAxE;;;AAAA,AAAA,AAAA,kEAAA,WAAAyE,7EAAWU;;AAAX,AAAA,IAAAV,eAAA;AAAA,AAAA,YAAA/D,qBAAA,IAAA+D,aAAA,EAAA,mFAAA,8CAAA,uDAAA,kBAAAzE,iBAAA,AAAAW,oBAAAX,iBAAA,AAAAY;;;AAAA,AAAA,AAAA,0DAAA,WAAAC,rEAAWsE;;AAAX,AAAA,IAAAtE,yBAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,gEAAA,WAAAC,3EAAWoE;;AAAX,AAAA,IAAApE,yBAAA;AAAA,AAAA,4BAAAwD,SAAAC,SAAA1D,cAAAd,gBAAAgB,hEAAWmE;;;AAAX,AAAA,AAAA,8DAAA,WAAAlE,zEAAWkE;;AAAX,AAAA,IAAAlE,yBAAA;AAAA,AAAA,QAAA,IAAA,AAAAvQ,gBAAAsP;;;AAAA,AAAA,AAAA,0DAAA,WAAAkB,rEAAWiE;;AAAX,AAAA,IAAAjE,yBAAA;AAAA,AAAA,IAAAC,kBAAAH;AAAA,AAAA,GAAA,EAAA,CAAAG,mBAAA;AAAAA;;AAAA,IAAAA,sBAAA,iBAAAuD,eAAA;kBAAArD;AAAA,AAAA,QAAA,cAAA,AAAAC,8BAAAD;;;AAAA,AAAA,OAAAqD,aAAAxD;;AAAA,AAAA,AAAAF,gBAAAG;;AAAAA;;;;AAAA,AAAA,AAAA,4DAAA,WAAAwD,UAAAC,jFAAWO;;AAAX,AAAA,IAAAR,gBAAA;AAAA,AAAA,SAAA,EAAA,CAAAC,cAAA,YAAA,CAAA,AAAAD,8BAAA,AAAAC,6BAAA,AAAAxP,6CAAA,AAAAuP,gBAAA,AAAAC,mBAAA,AAAAxP,6CAAA,AAAAuP,gBAAA,AAAAC,mBAAA,AAAAxP,6CAAA,AAAAuP,uBAAA,AAAAC;;;AAAA,AAAA,AAAA,2DAAA,WAAAnD,mBAAAC,zFAAWyD;;AAAX,AAAA,IAAA1D,yBAAA;AAAA,AAAA,GAAA,AAAAE,0BAAA,iFAAA,mDAAA,mEAAAD;AAAA,OAAApL,+CAAA,AAAAsL,qBAAA,AAAAC,6CAAA,mCAAAJ,wBAAAX,eAAAY;;AAAA,4BAAA6C,SAAAC,SAAA1D,cAAA,AAAAgB,oBAAA,AAAAxL,+CAAA0J,gBAAA0B,kBAAA,rJAAWyD;;;;AAAX,AAAA,AAAA,kEAAA,WAAApD,mBAAAC,gBAAAyC,hHAAWU;;AAAX,AAAA,IAAApD,yBAAA;AAAA,AAAA,IAAA8C,cAAA3C;IAAA4C,cAAA9C;AAAA,AAAA,oBAAA,iBAAA+C,WAAA;IAAAC,WAAAF;AAAA,AAAA,QAAAD,4CAAAA,0CAAAE,SAAAC,YAAAH,sBAAAE,SAAAC;;AAAA,4BAAAP,SAAAD,SAAA1D,cAAAd,gBAAA,hEAAWmF;;AAAX,oBAAA,iBAAAF,WAAA;IAAAC,WAAAJ;AAAA,AAAA,QAAAD,4CAAAA,0CAAAI,SAAAC,YAAAL,sBAAAI,SAAAC;;AAAA,4BAAAX,SAAAE,SAAA3D,cAAAd,gBAAA,hEAAWmF;;AAAX,4BAAAZ,SAAAC,SAAA1D,cAAA,AAAA0B,8CAAAxC,gBAAAgC,gBAAAyC,UAAA,xIAAWU;;;;;AAAX,AAAA,AAAA,4DAAA,WAAA1C,vEAAW0C;;AAAX,AAAA,IAAA1C,yBAAA;AAAA,AAAA,OAAAxS,cAAA,AAAAuQ,+CAAA,mFAAA,KAAAkC,mBAAA,8CAAA6B,SAAA,OAAA,KAAA7B,mBAAA,+CAAA8B,SAAA,eAAAxE;;;AAAA,AAAA,AAAA,mEAAA,WAAA2C,mBAAA8B,jGAAWU;;AAAX,AAAA,IAAAxC,yBAAA;AAAA,AAAA,4BAAA4B,SAAAC,SAAAC,SAAAzE,gBAAAgB,3DAAWmE;;;AAAX,AAAA,AAAA,gEAAA,WAAAvC,mBAAAC,9FAAWsC;;AAAX,AAAA,IAAAvC,yBAAA;AAAA,AAAA,GAAA,AAAAnR,wBAAAoR;AAAA,OAAAD,kEAAA,AAAAE,6CAAAD,oBAAA,KAAA,AAAAC,6CAAAD,oBAAA;;AAAA,OAAA7F,+CAAA+F,gBAAAH,uBAAAC;;;;AAAA,AAAA,AAAAsC,2BAAA;AAAA,AAAA,0FAAA,mDAAA;;;AAAA,AAAA,AAAAA,iCAAA;;AAAA,AAAA,AAAAA,sCAAA,WAAAlC;AAAA,AAAA,YAAAC,eAAA,KAAA,kBAAA,KAAA,IAAA;;;AAAA,AAAA,AAAAiC,yCAAA,WAAAlC,mBAAAE;AAAA,AAAA,OAAAhX,iBAAAgX,qBAAA;;;AAAA;;;uBAAA,vBAAWmC,sDAAMf,EAAEC;AAAnB,AAAA,YAAAW,oBAAA,KAAA,KAAA,dAAiBZ,EAAEC;;;AAAnB;;;0BAAA,kCAAAY,5DAAWG;AAAX,AAAA,IAAAlC,uBAAA,iBAAAgC,WAAA,AAAA9B,sDAAA6B,SAAA,gGAAA;AAAA,AAAA,GAAA,AAAA5B,wBAAA4B;AAAA,OAAAvD,6CAAA,mCAAAwD;;AAAAA;;;AAAA,AAAA,YAAAF,gBAAA,AAAA,4EAAAC,UAAA,AAAA,6EAAAA,UAAA,KAAA,AAAAtD,oBAAAuB,sBAAA;;;AAAA8B,AAEA,0BAAA,1BAAMK,4DAAWC;AAAjB,AACE,YAAAN,uCAAA,KAAA,KAAA,jCAAO,AAASM,WAAM,AAAUA;;AAElC,sBAAA,tBAAMC,oDAAU/Y;AAAhB,AACE,OAAC6Y,wBAAU,iBAAAG,WAAY,AAACjZ,oBAASC;AAAtB,AAAA,0BAAAgZ,nBAACC;;;AAEd,wBAAA,xBAAMC,wDAAYlZ;AAAlB,AACE,OAAA,6EAAA,oBAAIA,pBAAG+Y;;AAET,+BAAA,/BAAMI;AAAN,AACE,OAACN,wBAAU,AAACO;;AAEd,yBAAA,zBAAMC,0DAAarZ;AAAnB,AACE,yCAAA,jCAAM,AAAY,AAACD,oBAASC;;AAE9B,kCAAA,lCAAMsZ,4EAAsBtZ;AAA5B,AACE,IAAMuZ,UAAO,AAACxZ,oBAASC;IACjBwZ,OAAK,SAAA,RAAMD;AADjB,AAEE,IAAAE,kBAASD;IAATE,kBAAA,AAAAD;AAAA,AAAA,QAAA,JAAcE;UAAd,NAAgBC;;AAAhB,AAAA,GAAA,KAAAF,JAAcC;AAAd,eAAA,KAAA,JAAcA;eACZ,AAAC9O,6CAAK+O,IAAI,SAAA,RAAMJ,KAAKG;;;;;AADPC;;;;;AAIpB,uBAAA,vBAAMC,sDAAWC,KAAKC;AAAtB,AACE,GAAI,AAACC,uBAAOD;AACVD;;AACA,0DAAA,NAAKA,sDAAS,kDAAA,lDAACG,sDAAa,AAAC/N,4CAAI,WAAAgO;AAAA,AAAA,IAAAC,aAAAD;QAAA,AAAApU,4CAAAqU,WAAA,IAAA,/DAAMnU;QAAN,AAAAF,4CAAAqU,WAAA,IAAA,/DAAQzX;AAAR,AACE,uEAAA,nBAAK,AAAC+B,eAAKuB,oDAAO,AAACoU,mBAAsB,6CAAK1X;GACnDqX;;;AAGlC,AAAA,sBAAA,8BAAA7Z,pDAAMoa;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,kDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,kDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAja,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,oDAAA,pDAAMia,+DACFR;AADJ,AAEG,8DAAA,vDAACS,kDAAST;;;AAFb,AAAA,oDAAA,pDAAMQ,+DAGFR,KAAKC;AAHT,AAIG,iBAAA,YAAA,rBAAM9Z,+BAA8B,AAAC4Z,qBAAUC,KAAKC;;;AAJvD,AAAA,8CAAA,9CAAMO;;AAAN,AAOA,0BAAA,1BAAME;AAAN,AACE,OAAM,AAAA,AAAIva,yBACR,AAAA,AAAIA;;AAER,sBAAA,tBAAMwa,oDAAUza;AAAhB,AACE,IAAMoG,MAAI,AAACrG,oBAASC;AAApB,AACE,OAAWoG;;AAEf,0BAAA,1BAAMsU,4DAAcC,IAAIzN;AAAxB,AACE,IAAM0N,WAAS,AAAC7a,oBAASmN;AAAzB,AACE,IAAA2N,iBAAwBD;IAAxBE,iBAAiC,AAAC/a,oBAAS4a;AAA3C,AAAA,4BAAAE,eAAAC,3CAACC;;AACDH;;AAEJ,2BAAA,3BAAMI,8DAAeL,IAAIzN;AAAzB,AACE,IAAM0N,WAAS,AAAC7a,oBAASmN;AAAzB,AACE,IAAA+N,iBAAyBL;IAAzBM,iBAAkC,AAACnb,oBAAS4a;AAA5C,AAAA,6BAAAM,eAAAC,5CAACC;;AACDP;;AAEJ,0BAAA,1BAAMQ,4DAAcT,IAAIzN;AAAxB,AACE,IAAAmO,qBAAe,AAAc,AAACtb,oBAAS4a;AAAvC,AAAA,oBAAAU;AAAA,YAAAA,RAASpP;AAAT,AACE,OAAC+O,yBAAc/O,MAAMiB;;AACrB,OAACf,gDAAOwO,IAAIzN;;;AAEhB,sBAAA,tBAAMoO,oDAAUtb;AAAhB,AACE,IAAOA,SAAG,AAACD,oBAASC;QAApB,JACO2Z;;AADP,AAEE,IAAM4B,KAAG,AAAmBvb;AAA5B,AACE,GAAI,OAAA,NAAMub;AACR5B;;AACA,eAAO4B;eAAG,KAAA,JAAK5B;;;;;;;;AAGvB,wBAAA,xBAAM6B,wDAAYxb;AAAlB,AACE,IAAAyb,WAAsB,AAAC1b,oBAASC;AAAhC,AAAA,iCAAAyb,1BAACC;;AAEH,qBAAA,rBAAMC,kDAAS3b;AAAf,AACE,IAAMyB,SAAO,AAAC+Z,sBAAWxb;AAAzB,AACE,oBAAMyB;AAAN,AACE,OAACxC,eAAKwC,OAAO,KAAAzC,kBAAA,KAAA;;AAAA,AAAU,QAAC2c,mDAAAA,2DAAAA,VAAQla,uCAAAA;;CAAnB,KAAA;;AADf;;;AAGJ,qBAAA,rBAAMma,kDAAS5b,GAAGM;AAAlB,AACE,OAAU,AAACP,oBAASC,YAAIM;;AAE1B,8BAAA,9BAAMub,oEAAkB7b;AAAxB,AACE,IAAA8b,WAA2B,AAAC/b,oBAASC;AAArC,AAAA,sCAAA8b,/BAACC;;AAEH,kCAAA,lCAAMC,4EAAsBhc;AAA5B,AACE,IAAAic,WAA+B,AAAClc,oBAASC;AAAzC,AAAA,0CAAAic,nCAACC;;AAGH,AAAKC,mBAAM,6CAAA,2CAAA,MAAA,6BAAA,QAAA,nIAACC;AAGZ,6BAAA,7BAAMC,kEAAiBpT,QAAQE;AAA/B,AACE,IAAAmT,aAAoC,AAACjU,qBAAUY;eAA/C,AAAAnD,4CAAAwW,WAAA,IAAA,tEAAOhT;aAAP,AAAAxD,4CAAAwW,WAAA,IAAA,pEAAgB/S;kBAAhB,AAAAzD,4CAAAwW,WAAA,IAAA,zEAAuB9S;AAAvB,AACE,IAAMxJ,KAAG,yBAAA,zBAAkBC,sDAAyCqJ;AAApE,AACE,oBAAMC;AAAN,AACE,gBAAA,hBAAevJ,qBAAQuJ;;AADzB;;AAGA,oBAAMC;AAAN,AACE,gBAAA,hBAAexJ,wBAAW,AAACkI,8BAAmB,AAAA,sFAAQiB,OAAOK;;AAD/D;;AAGA,IAAA+S,mBAAA,AAAAjZ,cAAc6F;IAAdqT,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,IAAAE,mBAAA,AAAAH,wDAAAE;cAAA,AAAA5W,4CAAA6W,iBAAA,IAAA,3EAAS3W;cAAT,AAAAF,4CAAA6W,iBAAA,IAAA,3EAAWja;AAAX,AAAA,AACE,AAAiB1C,kBACf,iBAAA0D,qBAAc,AAACoZ,oBAAU9W;AAAzB,AAAA,oBAAAtC;AAAA,AAAA,SAAAA,LAAWmZ;AAAX,AACE,mDAAA,AAAAE,5CAAChU,4DAAKoT,kBAAMU;;AADd;;KAEA,AAACpY,eAAKuB,SAAGtD;;AAJb;AAAA,eAAA6Z;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAAhZ,2BAAA,AAAAJ,cAAAiZ;AAAA,AAAA,GAAA7Y;AAAA,AAAA,IAAA6Y,uBAAA7Y;AAAA,AAAA,GAAA,AAAAC,6BAAA4Y;AAAA,IAAA3Y,wBAAA,AAAAC,sBAAA0Y;AAAA,AAAA,eAAA,AAAAzY,qBAAAyY;eAAA3Y;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAAgZ,mBAAA,AAAA5Y,gBAAAuY;cAAA,AAAAzW,4CAAA8W,iBAAA,IAAA,3EAAS5W;cAAT,AAAAF,4CAAA8W,iBAAA,IAAA,3EAAWla;AAAX,AAAA,AACE,AAAiB1C,kBACf,iBAAA0D,yBAAc,AAACoZ,oBAAU9W;AAAzB,AAAA,oBAAAtC;AAAA,AAAA,SAAAA,LAAWmZ;AAAX,AACE,mDAAA,AAAAE,5CAAChU,4DAAKoT,kBAAMU;;AADd;;KAEA,AAACpY,eAAKuB,SAAGtD;;AAJb;AAAA,eAAA,AAAAuB,eAAAsY;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAMAvc;;AAGN,sBAAA,tBAAMgd,oDAAUhd;AAAhB,AACE,GACE,OAAA,NAAMA;AADR;;AAAA,GAEE,EAAA,EAAA,OAAA,QAAA,EAAA,EAAA,WAAA,CAAAZ,gCAAA,8BAAA,KAAA,OAAA,xGAAwBY,8DAAAA;AAAI,OAAqBA;;AAFnD,AAGQA;;;;;AAEV,2BAAA,3BAAMid,8DAAelS;AAArB,AACE,IAAAmS,aAA2B,AAAC/S,4BAAiBkS,2BAAgBtR;WAA7D,AAAAjF,4CAAAoX,WAAA,IAAA,lEAAOpT;oBAAP,AAAAhE,4CAAAoX,WAAA,IAAA,3EAAYjS;AAAZ,AAEE,IAAAkS,mBAAA,AAAA7Z,cAAqB2H;IAArBmS,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,yBAAA,AAAAD,wDAAAE,7EAAQhS;AAAR,AAAA,GACc,EAAK,uBAAA,tBAAMA;AADzB,AAAA,AAEE,GAAI,OAASA;AACX,IAAMkD,aAAK,MAAA,LAAM1E;AAAjB,AACE,MAAA,LAAMA,sBAAmB,6CAAK0E,wDAAKlD;;AACrC,IAAMC,iBAAS,AAACyR,oBAAS1R;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAgS,mBAAA,AAAAja,cAAciI;IAAdiS,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQzR;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAAsR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAha,2BAAA,AAAAJ,cAAAia;AAAA,AAAA,GAAA7Z;AAAA,AAAA,IAAA6Z,uBAAA7Z;AAAA,AAAA,GAAA,AAAAC,6BAAA4Z;AAAA,IAAA3Z,wBAAA,AAAAC,sBAAA0Z;AAAA,AAAA,eAAA,AAAAzZ,qBAAAyZ;eAAA3Z;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAAuZ,9BAAQtR;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAA,AAAAhI,eAAAsZ;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAtZ,eAAAsZ;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AAAczT,iBAAKyB;;;;AAV3B;AAAA,eAAA4R;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAA5Z,2BAAA,AAAAJ,cAAA6Z;AAAA,AAAA,GAAAzZ;AAAA,AAAA,IAAAyZ,uBAAAzZ;AAAA,AAAA,GAAA,AAAAC,6BAAAwZ;AAAA,IAAAvZ,wBAAA,AAAAC,sBAAAsZ;AAAA,AAAA,eAAA,AAAArZ,qBAAAqZ;eAAAvZ;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,yBAAA,AAAAI,gBAAAmZ,rCAAQ7R;AAAR,AAAA,GACc,EAAK,uBAAA,tBAAMA;AADzB,AAAA,AAEE,GAAI,OAASA;AACX,IAAMkD,aAAK,MAAA,LAAM1E;AAAjB,AACE,MAAA,LAAMA,sBAAmB,6CAAK0E,wDAAKlD;;AACrC,IAAMC,iBAAS,AAACyR,oBAAS1R;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAoS,mBAAA,AAAAra,cAAciI;IAAdqS,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQ7R;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAA0R;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAApa,+BAAA,AAAAJ,cAAAqa;AAAA,AAAA,GAAAja;AAAA,AAAA,IAAAia,uBAAAja;AAAA,AAAA,GAAA,AAAAC,6BAAAga;AAAA,IAAA/Z,wBAAA,AAAAC,sBAAA8Z;AAAA,AAAA,eAAA,AAAA7Z,qBAAA6Z;eAAA/Z;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAA2Z,9BAAQ1R;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAA,AAAAhI,eAAA0Z;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAA1Z,eAAA0Z;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AAAc7T,iBAAKyB;;;;AAV3B;AAAA,eAAA,AAAAtH,eAAAkZ;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAlZ,eAAAkZ;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAWArT;;AAEJ,AAAA,AAAA,AAAAiU,gBAAApf,sBAAA,SAAA;;AAAA,IAAAqf,iBAAApf;IAAAqf,iBAAA;IAAAC,iBAEE;kBAAUzf;AAAV,AACE,GAAI,kBAAA6I,jBAAU7I;AACZ,gCAAA,zBAACwe,4GAAexe;;AAChB,MAAO,gDAAA,4BAAA,2CAAA,vHAAC+L,4KAA2C/L;;;;AALzD,AAAA,AAAAsf,gBAAAC,eAAAC,eAAAC;;AAAA,AAAA,AAAA,AAAA,8DAAA9e,9DAOEgN;;AAPF,AAAA,AAAA,AAOEA,6EACA,WAAU3N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACwe,yBAAcxe;;;AATnB,AAAA,AAAA,AAAA,qDAAAW,rDAWEJ;;AAXF,AAAA,AAAA,AAWEA,oEACA,WAAUP;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACyN,4CAAItN,mBAAQH;;;AAbjB,AAAA,AAAAsf,gBAAApf,sBAAA,OAAA;;AAAA,IAAAwf,iBAAAvf;IAAAwf,iBAAA;IAAAC,iBAgBE;kBAAUC;AAAV,AAAA;;;AAhBF,AAAA,AAAAP,gBAAAI,eAAAC,eAAAC;AAoBA,AAAA,iBAAA,yBAAAne,1CAAMqe;AAAN,AAAA,IAAA7P,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAA6P,oDAAA,CAAA,UAAA,MAAA1P;;;AAAA,AAAA,AAAA,AAAA0P,sDAAA,WAAW5W,MAAQ4D;AAAnB,AACE,OAAC3M,mBAAQ,AAAC+f,cAAI,+CAAA,mFAAA,lIAAC9K,oLAAalM,cAAO4D;;;AADrC,AAAA,AAAAgT,yCAAA;;AAAA;AAAA,AAAA,AAAAA,mCAAA,WAAAC;AAAA,AAAA,IAAAC,WAAA,AAAAza,gBAAAwa;IAAAA,eAAA,AAAAva,eAAAua;AAAA,AAAA,IAAAE,qBAAA;AAAA,AAAA,OAAAA,wDAAAD,SAAAD;;;AAAA,AAQA,AAAA;;;;;;;;wBAAA,gCAAAte,xDAAM2e;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAxe,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,sDAAA,tDAAMwe,iEAOF7e,GAAG8e;AAPP,AAQG,oEAAA,KAAA,lEAACC,oDAAW/e,GAAG8e;;;AARlB,AAAA,sDAAA,tDAAMD,iEASF7e,GAAG8e,MAAME;AATb,AAUG,uEAAA,hEAACD,oDAAW/e,GAAG8e,MAAME;;;AAVxB,AAAA,sDAAA,tDAAMH,iEAWF7e,GAAG8e,MAAME,GAAGC;AAXhB,AAYG,IAAMC,MAAI,+BAAA,/BAACC;IACLC,OAAK,AAACC,mDAAWH,IAAIF;IACrBM,WAAS;qCAActe;AAAd,AACE,AAACue,wDAAWH,KAAKpe;;AACjB,GAAM,AAAOie;AAAb,AACE,AAAC9Z,gCAAqBnF,GAAG8e,MAAMQ;;AAC/B,OAACE,4BAAaJ;;AAFhB;;;;AAJjB,AAQE,IAAAK,iBAAY,AAAC1f,oBAASC;IAAtB0f,iBAA0B,AAACjb,eAAKqa;IAAhCa,iBAAuCL;AAAvC,AAAA,2GAAAG,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAChd,sDAAAA,oGAAAA;;AAGD,oBAAM,iBAAAid,oBAAKX;AAAL,AAAA,oBAAAW;AACK,SAAK,AAAOX;;AADjBW;;;AAAN,AAEE,IAAAC,yBAAA,AAAAC,mDAAA;AAAA,AAAA,AAAAC,kCAAA;;AAAA,AAAA,IAAAC,mBAAA,iBAAAC,wBAAA;kBAAAC;AAAA,AAAA,IAAAC,kBAAA,CAAAD,YAAA;AAAA,AAAA,GAAA,CAAAC,oBAAA;AAAA,IAAAD,kBAAAA;AAAA,AAAA,OAAAE,4CAAAF,gBAAA,IAAQjB;;AAAR,GAAA,CAAAkB,oBAAA;AAAA,IAAAE,aAAA,CAAAH,YAAA;IAAAI,aAAA,AACKnb,gCAAqBnF,GAAG8e,MAAMQ;IADnCY,kBAAA,iBAAAK,iBAAAL;AAAA,AAAA,CAAAK,eAAA,OAAAF;;AAAAE;;AAAA,AAAA,OAAAC,6CAAAN,gBAAAI;;AAAA;;;;;AAAA,AAAA;;;;AAAA,AAAA,IAAAG,iBAAA,CAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA;AAAA,AAAA,CAAAA,eAAA,OAAAC;;AAAA,CAAAD,eAAA,OAAA;;AAAAA;;4DAAAP;;AAAA,AAAA,IAAAS,2BAAA,iBAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA,AAAAX,sBAAAC;AAAA,AAAA,GAAA,AAAA3K,mCAAAqL,sBAAA;AAAA;;AAAAA;;;;gBAAA,GAAA,CAAAC,kBAAA9d;AAAA,IAAA+d,oBAAAD;AAAA,AAAA,IAAAE,uBAAAb;AAAA,AAAA,CAAAa,qBAAA,OAAAD;;AAAAC;AAAA,AAAAC,mDAAAd;;AAAA;;AAAA,AAAA,MAAAW;;;;AAAA,AAAA,GAAA,AAAAtL,mCAAAoL,yBAAA;AAAA,eAAAT;;;;AAAAS;;;;;mDAAAT;;;;;4DAAAA;;;;;;;;;;IAAAe,uBAAA,iBAAAC,iBAAA,CAAAlB,iDAAAA,mDAAAA;AAAA,AAAA,CAAAkB,eAAAC,AAAA,OAAAtB;;AAAAqB;;AAAA,AAAA,OAAAE,2DAAAH;;;;AAAApB;AAFF;;AAIAT;;;AA3BL,AAAA,gDAAA,hDAAMP;;AAAN","names":["shadow.dom/transition-supported?","js/window","goog.style.transition/isSupported","x__4243__auto__","m__4244__auto__","shadow/dom.-to-dom","goog/typeOf","cljs.core/missing-protocol","shadow.dom/IElement","shadow.dom/-to-dom","this","shadow/dom.-to-svg","shadow.dom/SVGElement","shadow.dom/-to-svg","shadow.dom/lazy-native-coll-seq","coll","idx","cljs.core/LazySeq","cljs.core/cons","G__18174","G__18175","cljs.core/PROTOCOL_SENTINEL","this__4192__auto__","writer__4193__auto__","opt__4194__auto__","cljs.core/-write","shadow.dom/NativeColl","shadow.dom/->NativeColl","n","not-found","or__3949__auto__","shadow.dom/native-coll","shadow.dom/dom-node","el","js/document","var_args","G__18193","shadow.dom/query-one","js/Error","sel","root","G__18201","shadow.dom/query","G__18204","shadow.dom/by-id","id","shadow.dom/build","G__18207","shadow.dom/ev-stop","e","shadow.dom.ev_stop.cljs$core$IFn$_invoke$arity$1","scope","owner","G__18221","shadow.dom/contains?","G__18226","G__18227","goog.dom/contains","parent","G__18231","G__18232","shadow.dom/add-class","cls","G__18242","G__18243","goog.dom.classlist/add","shadow.dom/remove-class","G__18250","G__18251","goog.dom.classlist/remove","G__18256","shadow.dom/toggle-class","G__18257","G__18258","goog.dom.classlist/toggle","v","shadow.dom/dom-listen","ev","handler","e18263","js/Object","js/console","shadow.dom/dom-listen-remove","shadow.dom/on-query","root-el","selector","seq__18274","cljs.core/seq","chunk__18275","count__18276","i__18277","temp__5457__auto__","cljs.core/chunked-seq?","c__4351__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","shadow.dom.query.cljs$core$IFn$_invoke$arity$2","G__18280","G__18281","G__18282","G__18283","G__18284","G__18285","cljs.core/name","G__18310","shadow.dom/on","shadow.dom.on.cljs$core$IFn$_invoke$arity$4","capture","cljs.core/vector?","cljs.core/second","G__18311","G__18312","G__18313","shadow.dom/remove-event-handler","G__18322","G__18323","G__18324","shadow.dom/add-event-listeners","events","seq__18326","chunk__18327","count__18328","i__18329","vec__18331","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","vec__18335","k","shadow.dom.on.cljs$core$IFn$_invoke$arity$3","shadow.dom/set-style","styles","dom","seq__18353","chunk__18354","count__18355","i__18356","vec__18357","vec__18364","G__18360","G__18361","G__18362","G__18368","G__18369","G__18370","goog.style/setStyle","shadow.dom/set-attr*","key","value","G__18394","cljs.core/Keyword","cljs.core/map?","ks","goog.string/startsWith","shadow.dom/set-attrs","attrs","cljs.core/reduce-kv","shadow.dom/set-attr","shadow.dom/has-class?","G__18399","G__18400","goog.dom.classlist/contains","shadow.dom/merge-class-string","current","extra-class","shadow.dom/parse-tag","spec","fdot","fhash","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","clojure.string/replace","p__18407","map__18408","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","shadow.dom/create-dom-node","tag-def","class","props","vec__18416","tag-props","tag-name","tag-id","tag-classes","G__18419","goog.dom/createDom","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","G__18421","shadow.dom/append","node","p__18443","vec__18444","seq__18445","first__18446","shadow.dom/destructure-node","create-fn","nn","np","nc","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","G__18454","G__18455","G__18459","G__18460","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","shadow.dom/make-dom-node","structure","vec__18487","node-children","seq__18490","chunk__18491","count__18492","i__18493","child-struct","children","cljs.core/seq?","seq__18497","chunk__18499","count__18500","i__18501","seq__18517","chunk__18519","count__18520","i__18521","child","cljs.core.map.cljs$core$IFn$_invoke$arity$2","shadow.dom.append.cljs$core$IFn$_invoke$arity$2","cljs.core/PersistentVector","js/HTMLElement","js/DocumentFragment","shadow.dom/reset","G__18673","goog.dom/removeChildren","shadow.dom/remove","seq__18684","chunk__18685","count__18686","i__18687","goog.dom/removeNode","shadow.dom/replace-node","old","new","G__18703","G__18704","goog.dom/replaceNode","G__18710","shadow.dom/text","new-text","G__18714","shadow.dom/check","shadow.dom.check.cljs$core$IFn$_invoke$arity$2","checked","shadow.dom/checked?","shadow.dom/form-elements","shadow.dom/children","shadow.dom/child-nodes","G__18750","shadow.dom/attr","default","shadow.dom/del-attr","shadow.dom/data","shadow.dom/set-data","shadow.dom/set-html","text","shadow.dom/get-html","args__4534__auto__","len__4531__auto__","i__4532__auto__","argseq__4535__auto__","cljs.core/IndexedSeq","shadow.dom/fragment","seq18770","self__4519__auto__","nodes","fragment","seq__18774","chunk__18775","count__18776","i__18777","shadow.dom/eval-scripts","s","scripts","cljs.core/re-seq","seq__18825","chunk__18826","count__18827","i__18828","vec__18830","vec__18834","script-tag","script-body","js/eval","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__18837","vec__18838","shadow.dom/str->fragment","js/document.createElement","goog.dom/childrenToNode_","shadow.dom/node-name","shadow.dom/ancestor-by-class","G__18877","G__18878","goog.dom/getAncestorByClass","G__18883","shadow.dom/ancestor-by-tag","tag","G__18884","G__18885","goog.dom/getAncestorByTagNameAndClass","G__18886","G__18887","G__18888","shadow.dom/get-value","G__18895","goog.dom.forms/getValue","shadow.dom/set-value","G__18900","G__18901","goog.dom.forms/setValue","shadow.dom/px","shadow.dom/pct","shadow.dom/remove-style*","style","shadow.dom/remove-style","shadow.dom/remove-styles","style-keys","seq__18908","chunk__18909","count__18910","i__18911","it","this__4203__auto__","k__4204__auto__","this__4205__auto__","k18937","else__4206__auto__","G__18943","x","y","cljs.core.get.cljs$core$IFn$_invoke$arity$3","__extmap","this__4217__auto__","writer__4218__auto__","opts__4219__auto__","pr-pair__4220__auto__","keyval__4221__auto__","cljs.core/pr-sequential-writer","cljs.core/pr-writer","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","G__18936","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__4201__auto__","__meta","this__4198__auto__","__hash","this__4207__auto__","this__4199__auto__","h__4061__auto__","fexpr__18949","coll__4200__auto__","cljs.core/hash-unordered-coll","this18938","other18939","this__4212__auto__","k__4213__auto__","cljs.core/contains?","cljs.core/-with-meta","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/not-empty","this__4210__auto__","k__4211__auto__","pred__18953","cljs.core/keyword-identical?","expr__18954","G__18956","G__18957","G__18958","G__18959","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","this__4215__auto__","cljs/core.MapEntry","this__4202__auto__","this__4208__auto__","entry__4209__auto__","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/-conj","shadow.dom/Coordinate","this__4240__auto__","cljs.core/List","writer__4241__auto__","G__18942","extmap__4236__auto__","G__18966","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","cljs.core/record?","shadow.dom/->Coordinate","shadow.dom/map->Coordinate","shadow.dom/get-position","pos","G__18988","goog.style/getPosition","shadow.dom/get-client-position","G__18990","goog.style/getClientPosition","shadow.dom/get-page-offset","G__18992","goog.style/getPageOffset","k18994","G__19001","w","h","G__18993","fexpr__19011","this18995","other18996","pred__19016","expr__19017","G__19019","G__19020","G__19021","G__19022","shadow.dom/Size","G__18997","G__19024","shadow.dom/->Size","shadow.dom/map->Size","shadow.dom/size->clj","size","shadow.dom/get-size","G__19031","goog.style/getSize","shadow.dom/get-height","shadow.dom/get-viewport-size","goog.dom/getViewportSize","shadow.dom/first-child","shadow.dom/select-option-values","native","opts","a__4405__auto__","l__4406__auto__","i","ret","shadow.dom/build-url","path","query-params","cljs.core/empty?","clojure.string.join.cljs$core$IFn$_invoke$arity$2","p__19034","vec__19035","js/encodeURIComponent","G__19039","shadow.dom/redirect","shadow.dom.redirect.cljs$core$IFn$_invoke$arity$2","shadow.dom/reload!","shadow.dom/tag-name","shadow.dom/insert-after","ref","new-node","G__19041","G__19042","goog.dom/insertSiblingAfter","shadow.dom/insert-before","G__19045","G__19046","goog.dom/insertSiblingBefore","shadow.dom/insert-first","temp__5455__auto__","shadow.dom/index-of","ps","shadow.dom/get-parent","G__19061","goog.dom/getParentElement","shadow.dom/parents","shadow.dom/matches","shadow.dom/get-next-sibling","G__19073","goog.dom/getNextElementSibling","shadow.dom/get-previous-sibling","G__19074","goog.dom/getPreviousElementSibling","shadow.dom/xmlns","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","shadow.dom/create-svg-node","vec__19075","seq__19079","chunk__19080","count__19081","i__19082","vec__19083","vec__19086","ns","cljs.core/namespace","cljs.core/deref","shadow.dom/svg-node","shadow.dom/make-svg-node","vec__19127","seq__19130","chunk__19132","count__19133","i__19134","seq__19136","chunk__19138","count__19139","i__19140","seq__19142","chunk__19144","count__19145","i__19146","goog.object/set","G__19239","G__19240","G__19241","G__19242","G__19243","G__19244","_","shadow.dom/svg","seq19253","G__19254","self__4518__auto__","cljs.core/vec","G__19271","shadow.dom/event-chan","event","shadow.dom.event_chan.cljs$core$IFn$_invoke$arity$4","xf","once-or-cleanup","buf","cljs.core.async/sliding-buffer","chan","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2","event-fn","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core.async/close!","G__19273","G__19274","G__19275","and__3938__auto__","c__10479__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__10480__auto__","switch__10456__auto__","state_19281","state_val_19282","cljs.core.async.impl.ioc-helpers/take!","inst_19278","inst_19279","statearr-19284","cljs.core.async.impl.ioc-helpers/return-chan","statearr-19287","state-machine__10457__auto__","ret-value__10458__auto__","result__10459__auto__","e19291","ex__10460__auto__","statearr-19292","cljs.core.async.impl.ioc-helpers/process-exception","state__10481__auto__","statearr-19294","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped"],"sourcesContent":["(ns shadow.dom\n  (:refer-clojure :exclude [remove contains? parents])\n  (:require-macros [cljs.core.async.macros :refer (go)])\n  (:require [goog.dom :as dom]\n            [goog.dom.forms :as gf]\n            [goog.dom.classlist :as gcls]\n            [goog.style :as gs]\n            [goog.style.transition :as gst]\n            [goog.string :as gstr]\n            [clojure.string :as str]\n            [cljs.core.async :as async]))\n\n(def transition-supported?\n  (when (exists? js/window)\n    (gst/isSupported)))\n\n(defprotocol IElement\n  (-to-dom [this]))\n\n(defprotocol SVGElement\n  (-to-svg [this]))\n\n(defn- lazy-native-coll-seq [coll idx]\n  (when (< idx (.-length coll))\n    (lazy-seq (cons (aget coll idx)\n                (lazy-native-coll-seq coll (inc idx))))\n    ))\n\n(deftype NativeColl [coll]\n  IDeref\n  (-deref [this] coll)\n\n  IIndexed\n  (-nth [this n] (aget coll n))\n  (-nth [this n not-found] (or (aget coll n) not-found))\n\n  ICounted\n  (-count [this] (.-length coll))\n\n  ISeqable\n  (-seq [this] (lazy-native-coll-seq coll 0))\n\n  IElement\n  (-to-dom [this] coll)\n  )\n\n(defn native-coll [coll]\n  (NativeColl. coll))\n\n(defn dom-node [el]\n  ;; FIXME: this method is called alot, how expensive is this check?\n  ;; protocols on native elements are funky\n  (cond\n    (nil? el) nil\n    (implements? IElement el) (-to-dom ^not-native el)\n    (string? el) (.createTextNode js/document el)\n    (number? el) (.createTextNode js/document (str el))\n    :else el))\n\n(defn query-one\n  ([sel] (.querySelector js/document sel))\n  ([sel root] (.querySelector (dom-node root) sel)))\n\n(defn query\n  ([sel] (NativeColl. (.querySelectorAll js/document sel)))\n  ([sel root] (NativeColl. (.querySelectorAll (dom-node root) sel))))\n\n(defn by-id\n  ([id el] (.getElementById (dom-node el) id))\n  ([id] (.getElementById js/document id)))\n\n(def build dom-node)\n\n(defn ev-stop\n  ([e]\n   (if (.-stopPropagation e)\n     (do\n       (.stopPropagation e)\n       (.preventDefault e))\n     (do\n       (set! (.-cancelBubble e) true)\n       (set! (.-returnValue e) false)))\n   e)\n  ([e el]\n   (ev-stop e)\n   el)\n  ;; new arity for sc/on\n  ([e el scope owner]\n   (ev-stop e)\n   el))\n\n(defn contains?\n  \"check wether a parent node (or the document) contains the child\"\n  ([el]\n   (dom/contains js/document (dom-node el)))\n  ([parent el]\n   (dom/contains (dom-node parent) (dom-node el))))\n\n\n(defn add-class [el cls]\n  (gcls/add (dom-node el) cls))\n\n(defn remove-class [el cls]\n  (gcls/remove (dom-node el) cls))\n\n(defn toggle-class\n  ([el cls]\n   (gcls/toggle (dom-node el) cls))\n  ([el cls v]\n   (if v\n     (add-class el cls)\n     (remove-class el cls))))\n\n;; private, use on\n(def dom-listen\n  (if (or (not (exists? js/document))\n          (.-addEventListener js/document))\n    (fn dom-listen-good [el ev handler]\n      (.addEventListener el ev handler false))\n    (fn dom-listen-ie [el ev handler]\n      (try\n        (.attachEvent el (str \"on\" ev) (fn [e] (handler e el)))\n        (catch js/Object e\n          (.log js/console \"didnt support attachEvent\" el e)))\n      )))\n\n;; private, only works if you used dom-listen since on wrap the event handler\n(def dom-listen-remove\n  (if (or (not (exists? js/document))\n          (.-removeEventListener js/document))\n    (fn dom-listen-remove-good [el ev handler]\n      (.removeEventListener el ev handler false))\n    (fn dom-listen-remove-ie [el ev handler]\n      (.detachEvent el (str \"on\" ev) handler))\n    ))\n;; // private\n\n(defn on-query [root-el ev selector handler]\n  (doseq [el (query selector root-el)]\n    (let [handler (fn [e] (handler e el))]\n      (dom-listen el (name ev) handler))))\n\n(defn on\n  ([el ev handler]\n   (on el ev handler false))\n  ([el ev handler capture]\n   (if (vector? ev)\n     (on-query el (first ev) (second ev) handler)\n     (let [handler (fn [e] (handler e el))]\n       (dom-listen (dom-node el) (name ev) handler)))))\n\n;; only work when used with dom-listen, on will wrap the handler so you can't remove it\n(defn remove-event-handler [el ev handler]\n  (dom-listen-remove (dom-node el) (name ev) handler))\n\n(defn add-event-listeners [el events]\n  (doseq [[k v] events]\n    (on el k v)))\n\n(defn set-style [el styles]\n  (let [dom (dom-node el)]\n\n    ;; apparently IE10+ allows setting properties to null which has unexpected effects\n    ;; on transition and display.\n    (doseq [[k v] styles]\n      (gs/setStyle dom (name k) (if (nil? v)\n                                  \"\"\n                                  v)))))\n\n(defn set-attr* [el key value]\n  ;; basically clone of goog.dom.setProperties, but with keywords\n  (case key\n    :id (set! (.-id el) (str value))\n    :class (set! (.-className el) (str value))\n    :for (set! (.-htmlFor el) value)\n    ;; see goog.dom.DIRECT_ATTRIBUTE_MAP_\n    :cellpadding (.setAttribute el \"cellPadding\" value)\n    :cellspacing (.setAttribute el \"cellSpacing\" value)\n    :colspan (.setAttribute el \"colSpan\" value)\n    :frameborder (.setAttribute el \"frameBorder\" value)\n    :height (.setAttribute el \"height\" value)\n    :maxlength (.setAttribute el \"maxLength\" value)\n    :role (.setAttribute el \"role\" value)\n    :rowspan (.setAttribute el \"rowSpan\" value)\n    :type (.setAttribute el \"type\" value)\n    :usemap (.setAttribute el \"useMap\" value)\n    :valign (.setAttribute el \"vAlign\" value)\n    :width (.setAttribute el \"width\" value)\n    :on (add-event-listeners el value)\n    :style (cond\n             (nil? value)\n             nil\n\n             (string? value)\n             (.setAttribute el \"style\" value)\n\n             (map? value)\n             (set-style el value)\n\n             :else\n             (gs/setStyle el value))\n    ;; FIXME: support :style maps\n    (let [ks (name key)]\n      (if (or (gstr/startsWith ks \"data-\")\n              (gstr/startsWith ks \"aria-\"))\n        (.setAttribute el ks value)\n        (aset el ks value))))\n  el)\n\n(defn set-attrs [el attrs]\n  (reduce-kv\n    (fn [el key value]\n      ;; use special version, so we don't do (dom-node el) every time\n      (set-attr* el key value)\n      el)\n    (dom-node el)\n    attrs))\n\n(defn set-attr [el key value]\n  (set-attr* (dom-node el) key value))\n\n\n(defn has-class? [el cls]\n  (gcls/contains (dom-node el) cls))\n\n(defn- merge-class-string [current extra-class]\n  (if (seq current)\n    (str current \" \" extra-class)\n    extra-class))\n\n\n;; before strange code!!!\n;; just because I can and messing with a huge regexp sucks\n;; messing with a native javascript object should also be faster\n(defn parse-tag [spec]\n  (let [spec (name spec)\n        fdot (.indexOf spec \".\")\n        fhash (.indexOf spec \"#\")]\n    (cond\n      (and (= -1 fdot) (= -1 fhash))\n      [spec nil nil]\n\n      (= -1 fhash)\n      [(.substring spec 0 fdot)\n       nil\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")]\n\n      (= -1 fdot)\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash))\n       nil]\n\n      (> fhash fdot)\n      (throw (str \"cant have id after class?\" spec))\n\n      :else\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash) fdot)\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")])))\n\n\n(defn create-dom-node [tag-def {:keys [class] :as props}]\n  (let [tag-props #js {} ;;  (clj->js props)\n        [tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (when tag-id\n      (aset tag-props \"id\" tag-id))\n\n    (when tag-classes\n      (aset tag-props \"class\" (merge-class-string class tag-classes)))\n\n    (doto (dom/createDom tag-name tag-props)\n      (set-attrs (dissoc props :class)))\n    ))\n\n;; FIXME: throw on nil? trying to append nil should be an error, not ignored\n(defn append\n  ([node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (.-body js/document) n)\n       n)))\n  ([el node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (dom-node el) n)\n       n))))\n\n(defn destructure-node\n  [create-fn [nn np & nc :as node]]\n  (when-not (keyword? nn)\n    (throw (ex-info \"invalid dom node\" {:node node})))\n\n  (cond\n    (and (nil? np) (nil? nc)) ;; [:div.something]\n    [(create-fn nn {}) '()]\n    (map? np) ;; [:div.something {:some \"attr\"}]\n    [(create-fn nn np) nc]\n    :else ;; [:div.something \"content\" \"more-content\"]\n    [(create-fn nn {}) (conj nc np)]))\n\n;; restore sanity!\n\n(defn make-dom-node [structure]\n  (let [[node node-children] (destructure-node create-dom-node structure)]\n\n    (doseq [child-struct node-children]\n      (let [children (dom-node child-struct)]\n        (if (seq? children)\n          (doseq [child (map dom-node children)\n                  :when child]\n            (append node child))\n          (do\n            (append node children)))))\n    node))\n\n(extend-protocol IElement\n  Keyword\n  (-to-dom [this] (make-dom-node [this]))\n\n  PersistentVector\n  (-to-dom [this]\n    (make-dom-node this))\n\n  LazySeq\n  (-to-dom [this]\n    (map -to-dom this)))\n\n(when (js* \"((typeof HTMLElement) != 'undefined')\")\n  (extend-protocol IElement\n    js/HTMLElement\n    (-to-dom [this] this)\n    ))\n\n(when (js* \"((typeof DocumentFragment) != 'undefined')\")\n  (extend-protocol IElement\n    js/DocumentFragment\n    (-to-dom [this] this)\n    ))\n\n(defn reset\n  \"clear node children\"\n  [node]\n  (dom/removeChildren (dom-node node)))\n\n(defn remove [node]\n  (if (implements? ISeqable node)\n    (doseq [n node] (remove n))\n    (dom/removeNode node)))\n\n(defn replace-node [old new]\n  ;; wth reverse\n  (dom/replaceNode (dom-node new) (dom-node old)))\n\n(defn text\n  ([el new-text] (set! (.-innerText (dom-node el)) new-text))\n  ([el] (.-innerText (dom-node el))))\n\n(defn check\n  ([el] (check el true))\n  ([el checked]\n   (set! (.-checked (dom-node el)) checked)\n    ))\n\n(defn checked? [el] (.-checked (dom-node el)))\n\n(defn form-elements [el]\n  (NativeColl. (.-elements (dom-node el))))\n\n(defn children [el]\n  (NativeColl. (.-children (dom-node el))))\n\n(defn child-nodes [el]\n  (NativeColl. (.-childNodes (dom-node el))))\n\n(defn attr\n  ([el key] (.getAttribute (dom-node el) (name key)))\n  ([el key default] (or (.getAttribute (dom-node el) (name key)) default)))\n\n(defn del-attr [el key]\n  (.removeAttribute (dom-node el) (name key)))\n\n(defn data [el key]\n  (.getAttribute (dom-node el) (str \"data-\" (name key))))\n\n(defn set-data [el key value]\n  (.setAttribute (dom-node el) (str \"data-\" (name key)) (str value)))\n\n(defn set-html [node text]\n  (set! (.-innerHTML (dom-node node)) text))\n\n(defn get-html [node]\n  (.-innerHTML (dom-node node)))\n\n(defn fragment [& nodes]\n  (let [fragment (.createDocumentFragment js/document)]\n    (doseq [node nodes]\n      (.appendChild fragment (-to-dom node)))\n    (NativeColl. fragment)\n    ))\n\n\n(defn eval-scripts\n  \"given a html string, eval all <script> tags and return the html without the scripts\n   don't do this for everything, only content you trust.\"\n  [s]\n  (let [scripts (re-seq #\"<script[^>]*?>(.+?)</script>\" s)]\n\n    (doseq [[script-tag script-body] scripts]\n      (js/eval script-body))\n\n    (reduce (fn [s [script-tag script-body]]\n              (str/replace s script-tag \"\"))\n      s\n      scripts)\n    ))\n\n(defn str->fragment [s]\n  (let [el (js/document.createElement \"div\")]\n    (set! (.-innerHTML el) s)\n    (NativeColl. (dom/childrenToNode_ js/document el))))\n\n(defn node-name [el]\n  (.-nodeName (dom-node el)))\n\n(defn ancestor-by-class [el cls]\n  (dom/getAncestorByClass (dom-node el) cls))\n\n(defn ancestor-by-tag\n  ([el tag] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag)))\n  ([el tag cls] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag) (name cls))))\n\n(defn get-value [dom]\n  (gf/getValue (dom-node dom)))\n\n(defn set-value [dom value]\n  (gf/setValue (dom-node dom) value))\n\n(defn px [value]\n  (str (int value) \"px\"))\n\n(defn pct [value]\n  (str value \"%\"))\n\n(defn remove-style* [el style]\n  (.removeProperty (.-style el) (name style)))\n\n(defn remove-style [el style]\n  (let [el (dom-node el)]\n    (remove-style* el style)))\n\n(defn remove-styles [el style-keys]\n  (let [el (dom-node el)]\n    (doseq [it style-keys]\n      (remove-style* el it))))\n\n\n(defrecord Coordinate [x y])\n\n(defn get-position [el]\n  (let [pos (gs/getPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-client-position [el]\n  (let [pos (gs/getClientPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-page-offset [el]\n  (let [pos (gs/getPageOffset (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defrecord Size [w h])\n\n(defn size->clj [size]\n  (Size. (.-width size) (.-height size)))\n\n(defn get-size [el]\n  (size->clj (gs/getSize (dom-node el))))\n\n(defn get-height [el]\n  (-> el get-size :h))\n\n(defn get-viewport-size []\n  (size->clj (dom/getViewportSize)))\n\n(defn first-child [el]\n  (aget (.-children (dom-node el)) 0))\n\n(defn select-option-values [el]\n  (let [native (dom-node el)\n        opts (aget native \"options\")]\n    (areduce opts i ret []\n      (conj ret (aget opts i \"value\")))\n    ))\n\n(defn build-url [path query-params]\n  (if (empty? query-params)\n    path\n    (str path \"?\" (str/join \"&\" (map (fn [[k v]]\n                                       (str (name k) \"=\" (js/encodeURIComponent (str v))))\n                                  query-params)))\n    ))\n\n(defn redirect\n  ([path]\n   (redirect path {}))\n  ([path query-params]\n   (aset js/document \"location\" \"href\" (build-url path query-params))\n    ))\n\n(defn reload! []\n  (set! (.. js/document -location -href)\n    (.. js/document -location -href)))\n\n(defn tag-name [el]\n  (let [dom (dom-node el)]\n    (.-tagName dom)))\n\n(defn insert-after [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingAfter new-node (dom-node ref))\n    new-node))\n\n(defn insert-before [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingBefore new-node (dom-node ref))\n    new-node))\n\n(defn insert-first [ref new]\n  (if-let [child (.-firstChild (dom-node ref))]\n    (insert-before child new)\n    (append ref new)))\n\n(defn index-of [el]\n  (loop [el (dom-node el)\n         i 0]\n    (let [ps (.-previousSibling el)]\n      (if (nil? ps)\n        i\n        (recur ps (inc i))\n        ))))\n\n(defn get-parent [el]\n  (dom/getParentElement (dom-node el)))\n\n(defn parents [el]\n  (let [parent (get-parent el)]\n    (when parent\n      (cons parent (lazy-seq (parents parent))))))\n\n(defn matches [el sel]\n  (.matches (dom-node el) sel))\n\n(defn get-next-sibling [el]\n  (dom/getNextElementSibling (dom-node el)))\n\n(defn get-previous-sibling [el]\n  (dom/getPreviousElementSibling (dom-node el)))\n\n\n(def xmlns (atom {\"svg\" \"http://www.w3.org/2000/svg\"\n                  \"xlink\" \"http://www.w3.org/1999/xlink\"}))\n\n(defn create-svg-node [tag-def props]\n  (let [[tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (let [el (.createElementNS js/document \"http://www.w3.org/2000/svg\" tag-name)]\n      (when tag-id\n        (.setAttribute el \"id\" tag-id))\n\n      (when tag-classes\n        (.setAttribute el \"class\" (merge-class-string (:class props) tag-classes)))\n\n      (doseq [[k v] props]\n        (.setAttributeNS el\n          (when-let [ns (namespace k)]\n            (get @xmlns ns))\n          (name k) v))\n\n      el\n      )))\n\n(defn svg-node [el]\n  (cond\n    (nil? el) nil\n    (implements? SVGElement el) (-to-svg ^not-native el)\n    :else el))\n\n(defn make-svg-node [structure]\n  (let [[node node-children] (destructure-node create-svg-node structure)]\n\n    (doseq [child-struct node-children\n            :when (not (nil? child-struct))]\n      (if (string? child-struct)\n        (let [text (aget node \"textContent\")]\n          (aset node \"textContent\" (str text child-struct)))\n        (let [children (svg-node child-struct)]\n          (if (seq? children)\n            (doseq [child children\n                    :when child]\n              (.appendChild node child))\n            (.appendChild node children)))))\n    node))\n\n(extend-protocol SVGElement\n  string\n  (-to-svg [this]\n    (if (keyword? this)\n      (make-svg-node [this])\n      (throw (ex-info \"strings cannot be in svgs\" {:this this}))))\n\n  PersistentVector\n  (-to-svg [this]\n    (make-svg-node this))\n\n  LazySeq\n  (-to-svg [this]\n    (map -to-svg this))\n\n  nil\n  (-to-svg [_] nil))\n\n;; FIXME: could autodetect svg elements but that would mean checking\n;; if tag == :svg for every node created in dom-node, that kinda sucks\n(defn svg [attrs & children]\n  (-to-svg (vec (concat [:svg attrs] children))))\n\n\n\n\n;; core.async stuff\n\n(defn event-chan\n  \"returns a channel for events on el\n   transform-fn should be a (fn [e el] some-val) where some-val will be put on the chan\n   once-or-cleanup handles the removal of the event handler\n   - true: remove after one event\n   - false: never removed\n   - chan: remove on msg/close\"\n  ([el event]\n   (event-chan el event nil false))\n  ([el event xf]\n   (event-chan el event xf false))\n  ([el event xf once-or-cleanup]\n   (let [buf (async/sliding-buffer 1)\n         chan (async/chan buf xf)\n         event-fn (fn event-fn [e]\n                    (async/put! chan e)\n                    (when (true? once-or-cleanup)\n                      (remove-event-handler el event event-fn)\n                      (async/close! chan)\n                      ))]\n     (dom-listen (dom-node el) (name event) event-fn)\n\n     ;; when given a channel fire up a go that removes event handler when closed/msg\n     (when (and once-or-cleanup\n                (not (true? once-or-cleanup)))\n       (go (<! once-or-cleanup)\n           (remove-event-handler el event event-fn)))\n     chan\n     )))\n\n\n"]}